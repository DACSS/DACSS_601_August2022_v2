<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ananya Pujary">
<meta name="dcterms.date" content="2022-09-04">
<meta name="description" content="Analyzing Snapchat Political Ads in the US in 2020">

<title>- Final Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<meta name="twitter:title" content="- Final Project">
<meta name="twitter:description" content="Analyzing Snapchat Political Ads in the US in 2020">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../index.html">
    <img src="../images/UMass White Wordmark Horiz.png" alt="">
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://dacss.github.io/DACSS_601_August2022_v2">August 2022 Posts</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../featured_posts.html">Featured Posts</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">Contributors</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss">DACSS</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS/DACSS_601_August2022_v2"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#loading-the-packages" id="toc-loading-the-packages" class="nav-link active" data-scroll-target="#loading-the-packages">Loading the Packages</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#reading-in-the-data" id="toc-reading-in-the-data" class="nav-link" data-scroll-target="#reading-in-the-data">Reading in the Data</a></li>
  <li><a href="#tidying-the-data" id="toc-tidying-the-data" class="nav-link" data-scroll-target="#tidying-the-data">Tidying the Data</a>
  <ul class="collapse">
  <li><a href="#narrowing-down-the-data" id="toc-narrowing-down-the-data" class="nav-link" data-scroll-target="#narrowing-down-the-data">Narrowing down the data</a></li>
  <li><a href="#the-case-of-age_bracket-and-advanced_demographics" id="toc-the-case-of-age_bracket-and-advanced_demographics" class="nav-link" data-scroll-target="#the-case-of-age_bracket-and-advanced_demographics">The case of <code>age_bracket</code> and <code>advanced_demographics</code></a></li>
  <li><a href="#wrangling-with-the-date-columns" id="toc-wrangling-with-the-date-columns" class="nav-link" data-scroll-target="#wrangling-with-the-date-columns">Wrangling with the date columns</a></li>
  </ul></li>
  <li><a href="#analyzing-and-visualizing-the-data" id="toc-analyzing-and-visualizing-the-data" class="nav-link" data-scroll-target="#analyzing-and-visualizing-the-data">Analyzing and Visualizing the Data</a>
  <ul class="collapse">
  <li><a href="#ad-expenditure-and-impression-analysis" id="toc-ad-expenditure-and-impression-analysis" class="nav-link" data-scroll-target="#ad-expenditure-and-impression-analysis">Ad Expenditure and Impression Analysis</a></li>
  <li><a href="#location-targeting-analysis" id="toc-location-targeting-analysis" class="nav-link" data-scroll-target="#location-targeting-analysis">Location Targeting Analysis</a></li>
  </ul></li>
  <li><a href="#reflections" id="toc-reflections" class="nav-link" data-scroll-target="#reflections">Reflections</a></li>
  <li><a href="#future-directions" id="toc-future-directions" class="nav-link" data-scroll-target="#future-directions">Future Directions</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">Appendix</a>
  <ul class="collapse">
  <li><a href="#dataframe-variable-names-and-descriptions" id="toc-dataframe-variable-names-and-descriptions" class="nav-link" data-scroll-target="#dataframe-variable-names-and-descriptions">Dataframe variable names and descriptions</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Final Project</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">final-project</div>
    <div class="quarto-category">snapchat-political-ads</div>
    <div class="quarto-category">ggplot</div>
    <div class="quarto-category">dplyr</div>
    <div class="quarto-category">stringr</div>
    <div class="quarto-category">lubridate</div>
    <div class="quarto-category">janitor</div>
  </div>
  </div>

<div>
  <div class="description">
    Analyzing Snapchat Political Ads in the US in 2020
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ananya Pujary </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 4, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="loading-the-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-the-packages">Loading the Packages</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(googlesheets4)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(corrr))</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"corrr"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(janitor))</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"janitor"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(usmap))</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"usmap"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(viridis))</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"viridis"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(transformr))</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"transformr"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(patchwork))</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"patchwork"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(kableExtra))</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"kableExtra"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Every election season, millions of dollars are spent on political advertisements that help candidates reach a wider audience of potential voters and influence the voting process (Nott, 2020). Political advertisements can be defined as those that ‚Äúdescribe a political leader, organization, or party, a public office candidate, or an election/referendum‚Äù (Tomasi, 2021). These advertisements can also be created by entities other than the candidates themselves.</p>
<p>Now, with the proliferation of social media in almost every aspect of our lives, they are also playing their part in influencing the political process. Unlike traditional media like newspapers and television, social media platforms are not liable for what is displayed on them and can set their own content regulations (Nott, 2020). Political advertisements on social media are becoming popular because they allow for a ‚Äòmicro-targeting‚Äô of demographics and allow candidates to understand and reach the masses better, in turn increasing voter engagement (Nott, 2020). Micro-targeting refers to a marketing strategy that employs consumer demographics and data to generate audience segments (‚ÄúWhat is Micro-Targeting &amp; How Does it Affect Advertising‚Äù, n.d.).</p>
<p>While Facebook and Google have long been the dominating players in digital political advertising, Snapchat is becoming increasingly popular. In 2020, Snapchat had around 249 million active users on its platform, most of them in the age range of 13-29 (Rodriguez, 2020; ‚ÄúSnapchat statistics 2020‚Äù, 2020). Snapchat has made data about the political ads shown on their app public, so this project will use their data for the year 2020 (Snap Inc., n.d.). In particular, I‚Äôll be looking at advertisements shown in the United States for the candidates Joe Biden and Donald Trump. I chose these candidates because the presidential elections were held this year (November 3rd, 2020) and they closely contested against each other. Using this dataset, I plan on looking at relative advertisement expenditure, impressions, and location micro-targeting, and explore the following broad questions:</p>
<div class="callout-note callout callout-style-simple callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Project Questions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>Is there a relationship between political ad expenditure and impressions?</p></li>
<li><p>Which candidate‚Äôs advertisements received more impressions?</p></li>
<li><p>How much was spent on these advertisements and which candidate spent more on average?</p></li>
<li><p>Which states were targeted by these advertisements, and which states did each candidate target more?</p></li>
</ul>
</div>
</div>
<p><br>
</p>
</section>
<section id="reading-in-the-data" class="level2">
<h2 class="anchored" data-anchor-id="reading-in-the-data">Reading in the Data</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>polads_orig <span class="ot">&lt;-</span> <span class="fu">read_sheet</span>(<span class="st">'https://docs.google.com/spreadsheets/d/1S7jF0D2o8aC3gGndORVrksuSsvMMZwqVdKLmu4SYqUc/edit?usp=sharing'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in `gs4_auth()`:
! Can't get Google credentials.
‚Ñπ Are you running googlesheets4 in a non-interactive session? Consider:
‚Ä¢ Call `gs4_deauth()` to prevent the attempt to get credentials.
‚Ä¢ Call `gs4_auth()` directly with all necessary specifics.
‚Ñπ See gargle's "Non-interactive auth" vignette for more details:
‚Ñπ &lt;]8;;https://gargle.r-lib.org/articles/non-interactive-auth.htmlhttps://gargle.r-lib.org/articles/non-interactive-auth.html]8;;&gt;</code></pre>
</div>
</div>
<p>Looking at the dataset‚Äôs various characteristics:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(polads_orig)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in skim(polads_orig): object 'polads_orig' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summarytools<span class="sc">::</span><span class="fu">dfSummary</span>(polads_orig, <span class="at">varnumbers =</span> <span class="cn">FALSE</span>, <span class="at">plain.ascii =</span> <span class="cn">FALSE</span>, <span class="at">graph.magnif =</span> <span class="fl">0.50</span>, <span class="at">style =</span> <span class="st">"grid"</span>, <span class="at">valid.col =</span> <span class="cn">FALSE</span>), </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">method =</span> <span class="st">'render'</span>, <span class="at">table.classes =</span> <span class="st">'table-condensed'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in summarytools::dfSummary(polads_orig, varnumbers = FALSE, plain.ascii = FALSE, : object 'polads_orig' not found</code></pre>
</div>
</div>
<p>This file contains the information for political ads that are/have been displayed on Snapchat‚Äôs platform, such as the amount spent on them, the organization and advertisers behind them, the candidates/causes the ads support, demographic and location-based ad targeting, and so on. It has 12705 rows and 38 columns. There are 28 character-type, 1 list-type, 7 logical-type, and 2 numeric-type columns.</p>
</section>
<section id="tidying-the-data" class="level2">
<h2 class="anchored" data-anchor-id="tidying-the-data">Tidying the Data</h2>
<p>Removing columns that only have missing values:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads_orig <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">remove_empty</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>value for "which" not specified, defaulting to c("rows", "cols")</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error in is.data.frame(x): object 'polads_orig' not found</code></pre>
</div>
</div>
<p>Snake case is typically recommended by tidyverse‚Äôs style guide for column names and object names. However the column names in this dataset are written either in title case (e.g.&nbsp;<code>Currency Code</code>) or camel case (e.g.&nbsp;<code>OrganizationName</code>). Some of them also contain special characters like brackets which could interfere with implementing R functions.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Snake case refers to the writing style that replaces spaces between words with an underscore (_) and all of the letters in a word are lowercase. On the other hand, title case is the writing style in which the first letter of each word is capitalized and there are spaces between each word. A third type is the camel case, wherein phrases are written out without punctuation or spaces, and words are usually distinguished with the second word‚Äôs first letter capitalized.</p>
</div>
</div>
<p>Hence, using the <code>clean_names()</code> function from the ‚Äòjanitor‚Äô package to convert all the column names accordingly.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span><span class="fu">clean_names</span>(polads)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in clean_names(polads): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(polads)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in is.data.frame(x): object 'polads' not found</code></pre>
</div>
</div>
<section id="narrowing-down-the-data" class="level3">
<h3 class="anchored" data-anchor-id="narrowing-down-the-data">Narrowing down the data</h3>
<p>Let‚Äôs look at the distribution of countries receiving political advertisements on Snapchat for this year.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(polads<span class="sc">$</span>country_code) <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Countries Receiving Snapchat Political Ads (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Country"</span>,<span class="st">"Frequency"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in table(polads$country_code): object 'polads' not found</code></pre>
</div>
</div>
<p>Most of the political advertisements were delivered to places in the United States (11124). Only keeping rows that describe ads targeting the United States:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> <span class="fu">filter</span>(polads,country_code <span class="sc">==</span><span class="st">"united states"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(polads, country_code == "united states"): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>polads</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'polads' not found</code></pre>
</div>
</div>
<p>Verifying whether all ads targeted for the United States were paid for in USD:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,currency_code)) <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Currency Code Frequency (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Currency Code"</span>,<span class="st">"Frequency"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(polads, currency_code): object 'polads' not found</code></pre>
</div>
</div>
<p>Three ads were paid for in Canadian Dollars (CAD). Finding out more about these three rows:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(currency_code<span class="sc">==</span><span class="st">"CAD"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., currency_code == "CAD"): object 'polads' not found</code></pre>
</div>
</div>
<p>Two ads were paid for by the University of British Columbia and were targeted at people aged 16-25 in the following areas: San Francisco, Oakland, and San Jose. The third was paid for by Point Digital Creative Studio. None of them provided information about the candidate associated with the ad.</p>
<p>Since we require information about the candidate in order to analyze relative ad spending, targeting and impressions, tidying up the <code>candidate_ballot_information</code> column by removing missing values:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(polads<span class="sc">$</span>candidate_ballot_information))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># removing rows with missing values</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> <span class="fu">drop_na</span>(polads,candidate_ballot_information)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in drop_na(polads, candidate_ballot_information): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>polads</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'polads' not found</code></pre>
</div>
</div>
<p>There were 5312 rows missing candidate information. Next, I‚Äôm only including those rows that explicitly states the candidate name (containing the words ‚ÄúBiden‚Äù and ‚ÄúTrump‚Äù).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> <span class="fu">filter</span>(polads, <span class="fu">str_detect</span>(candidate_ballot_information, <span class="st">'Biden|Trump'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(polads, str_detect(candidate_ballot_information, "Biden|Trump")): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,candidate_ballot_information)) <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Frequency of Candidates"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Frequency"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(polads, candidate_ballot_information): object 'polads' not found</code></pre>
</div>
</div>
<p>There are two entries that contain the string ‚ÄúTrump‚Äù but are in fact campaigning against him (‚ÄúAgainst Trump‚Äù, ‚ÄúOperation Dump Trump‚Äù, ‚ÄúTitere de Trump‚Äù). There‚Äôs also an entry called ‚ÄúBiden vs Trump‚Äù which doesn‚Äôt clearly indicate which party the ad will be supporting. Removing these rows so that they don‚Äôt skew the results:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(candidate_ballot_information<span class="sc">==</span><span class="st">"Against Trump"</span><span class="sc">|</span> candidate_ballot_information<span class="sc">==</span><span class="st">"Operation Dump Trump"</span><span class="sc">|</span> candidate_ballot_information<span class="sc">==</span><span class="st">"Biden vs Trump"</span><span class="sc">|</span> candidate_ballot_information<span class="sc">==</span><span class="st">"Titere de Trump"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., !(candidate_ballot_information == "Against Trump" | : object 'polads' not found</code></pre>
</div>
</div>
<p>Since missing values in certain columns indicate that either all or none of the categories in the column were targeted, I‚Äôm changing their missing values accordingly for easy analysis.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">gender =</span> <span class="st">"ALL"</span>,<span class="at">os_type =</span> <span class="st">"ALL"</span>,<span class="at">language =</span> <span class="st">"none"</span>,<span class="at">advanced_demographics =</span> <span class="st">"None"</span>,<span class="at">targeting_connection_type =</span> <span class="st">"None"</span>,<span class="at">targeting_carrier_isp =</span> <span class="st">"ALL"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in replace_na(., list(gender = "ALL", os_type = "ALL", language = "none", : object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,gender))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(polads, gender): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,os_type))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(polads, os_type): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,language))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(polads, language): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,advanced_demographics))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(polads, advanced_demographics): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,targeting_connection_type))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(polads, targeting_connection_type): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,targeting_carrier_isp))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(polads, targeting_carrier_isp): object 'polads' not found</code></pre>
</div>
</div>
</section>
<section id="the-case-of-age_bracket-and-advanced_demographics" class="level3">
<h3 class="anchored" data-anchor-id="the-case-of-age_bracket-and-advanced_demographics">The case of <code>age_bracket</code> and <code>advanced_demographics</code></h3>
<p>The <code>age_bracket</code> column‚Äôs values are as follows:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,age_bracket)) <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Age Targeting by Snapchat Political Ads (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Ages"</span>,<span class="st">"Frequency"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(polads, age_bracket): object 'polads' not found</code></pre>
</div>
</div>
<p>Clearly, the column‚Äôs values overlap and tend to refer to similar age groups, for instance, 18-20, 18-24, and 18+.</p>
<p>As for <code>advanced_demographics</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,advanced_demographics))<span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Advanced Demographics Targeting by Snapchat Political Ads (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Advanced Demographics"</span>,<span class="st">"Frequency"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(polads, advanced_demographics): object 'polads' not found</code></pre>
</div>
</div>
<p>Clearly, very few ads provided additional demographic information for ad targetting and the data aren‚Äôt uniform (i.e.&nbsp;there are details on people‚Äôs household incomes, occupations, languages spoken, educational levels, number of children etc.), so I wouldn‚Äôt be able to effectively analyze it in relation to other columns. Though I was looking forward to analyzing these columns, the data they had were too sparse to work with.</p>
</section>
<section id="wrangling-with-the-date-columns" class="level3">
<h3 class="anchored" data-anchor-id="wrangling-with-the-date-columns">Wrangling with the date columns</h3>
<p>The ‚ÄúZ‚Äù at the end of the date-timestamp indicates that the timezone chosen is UTC, but I won‚Äôt be requiring it for analysis, so I‚Äôll remove it. Also, I‚Äôm arranging the rows by the start date set for the advertisement and converting the data types of the date columns (<code>start_date</code> and <code>end_date</code>) from character to date-time.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">ymd_hms</span>(polads<span class="sc">$</span>start_date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in arrange(., ymd_hms(polads$start_date)): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sanity check</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(polads)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in head(polads): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># converting data types of date columns from character to datetime</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">start_date =</span> <span class="fu">ymd_hms</span>(start_date)) <span class="sc">%&gt;%</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_date =</span> <span class="fu">ymd_hms</span>(end_date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in mutate(., start_date = ymd_hms(start_date)): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rechecking class of these columns</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(polads<span class="sc">$</span>start_date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(polads<span class="sc">$</span>end_date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(polads)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in head(polads): object 'polads' not found</code></pre>
</div>
</div>
<p>Next, I want to create a new column that gives the duration for which the ad was run on Snapchat. I chose to display this information in hours.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ad_duration =</span> <span class="fu">difftime</span>(end_date,start_date,<span class="at">units=</span> <span class="fu">c</span>(<span class="st">"hours"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in mutate(., ad_duration = difftime(end_date, start_date, units = c("hours"))): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(polads<span class="sc">$</span>ad_duration)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in unique(polads$ad_duration): object 'polads' not found</code></pre>
</div>
</div>
<p>Missing values show up for those rows without an end date for the advertisement. Plotting the distribution of political advertisement duration:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(polads, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.numeric</span>(ad_duration))) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="dv">15</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Snapchat Political Ad Duration (2020)"</span>,<span class="at">x =</span> <span class="st">"Duration in Hours"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>, <span class="at">caption =</span> <span class="st">"Note: This plot does not include ads that did not specify an end date"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in ggplot(polads, aes(x = as.numeric(ad_duration))): object 'polads' not found</code></pre>
</div>
</div>
<p>A large proportion of the ads ran for less that 250 hours.</p>
<p>Lastly, I‚Äôll be changing the entries <code>candidate_ballot_information</code> to either ‚ÄúBiden‚Äù or ‚ÄúTrump‚Äù to make it more uniform and for ease of analysis. For instance, ‚ÄúJoe Biden for President‚Äù will be changed to ‚ÄúBiden‚Äù.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># changing `candidate_ballot_information` to either "Biden" or "Trump"</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">candidate_ballot_information =</span> <span class="fu">case_when</span>(</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(candidate_ballot_information, <span class="st">"Biden"</span>) <span class="sc">~</span> <span class="st">"Biden"</span>,</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(candidate_ballot_information, <span class="st">"Trump"</span>)  <span class="sc">~</span> <span class="st">"Trump"</span>,</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> candidate_ballot_information))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in mutate(., candidate_ballot_information = case_when(str_detect(candidate_ballot_information, : object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(candidate_ballot_information, <span class="st">"Trump"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="st">"Number of Trump ads"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., str_detect(candidate_ballot_information, "Trump")): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(candidate_ballot_information, <span class="st">"Biden"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="st">"Number of Biden ads"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., str_detect(candidate_ballot_information, "Biden")): object 'polads' not found</code></pre>
</div>
</div>
<p>There are 1251 political advertisements supporting Biden‚Äôs campaign and 483 political advertisements for Trump‚Äôs campaign.</p>
</section>
</section>
<section id="analyzing-and-visualizing-the-data" class="level2">
<h2 class="anchored" data-anchor-id="analyzing-and-visualizing-the-data">Analyzing and Visualizing the Data</h2>
<section id="ad-expenditure-and-impression-analysis" class="level3">
<h3 class="anchored" data-anchor-id="ad-expenditure-and-impression-analysis">Ad Expenditure and Impression Analysis</h3>
<p>I want to determine whether there‚Äôs a correlation between two variables I‚Äôm interested in: <code>spend</code> and <code>impressions</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>polads_cor <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span> </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(spend,impressions) <span class="sc">%&gt;%</span> </span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">correlate</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., spend, impressions): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>polads_cor_plot <span class="ot">&lt;-</span> <span class="fu">rplot</span>(polads_cor) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Correlation between Ad Expenditure and Impressions Received</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in rplot(polads_cor): object 'polads_cor' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>polads_cor_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'polads_cor_plot' not found</code></pre>
</div>
</div>
<p>This plot shows us that these two variables are moderately correlated with each other.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># total amount spent by both candidates' ads</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(candidate_ballot_information, spend)<span class="sc">%&gt;%</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">spend_sum =</span> <span class="fu">sum</span>(spend)) <span class="sc">%&gt;%</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Total Snapchat Political Ad Expenditure (2020)"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Total Amount in USD"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., candidate_ballot_information, spend): object 'polads' not found</code></pre>
</div>
</div>
<p>More funds were allocated to political ads supporting Biden on Snapchat ($4,367,549) than Trump ($613,733).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># total impressions received by both candidates' ads</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(candidate_ballot_information, impressions)<span class="sc">%&gt;%</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">impressions_sum =</span> <span class="fu">sum</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Total Snapchat Political Ad Impressions (2020)"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Total Impressions"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., candidate_ballot_information, impressions): object 'polads' not found</code></pre>
</div>
</div>
<p>Ads supporting Biden received more impressions (804,943,566) than those supporting Trump (378,452,979).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(candidate_ballot_information,spend,organization_name,paying_advertiser_name,impressions,start_date,end_date) <span class="sc">%&gt;%</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information) <span class="sc">%&gt;%</span> </span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="fu">which.max</span>(spend)) <span class="sc">%&gt;%</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Highest Singular Ad Expenditure by Candidate"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Expenditure"</span>,<span class="st">"Organization Name"</span>,<span class="st">"Paying Advertiser Name"</span>,<span class="st">"Impressions"</span>,<span class="st">"Start Date"</span>,<span class="st">"End Date"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., candidate_ballot_information, spend, organization_name, : object 'polads' not found</code></pre>
</div>
</div>
<p>The highest funds allocated for a single political advertisement supporting Biden (and overall) was $151,724, while the $33,349 spent by Albbiom Marketing LLC was the most expensive political advertisement for Trump‚Äôs campaign. The Biden advertisement was displayed almost all day on election day (11/03/2020) as indicated by its start and end date. Even though more funds was spent on the Biden advertisement, Trump‚Äôs advertisement had more impressions (30,383,613).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(candidate_ballot_information,spend,organization_name,paying_advertiser_name,impressions,start_date,end_date) <span class="sc">%&gt;%</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information) <span class="sc">%&gt;%</span> </span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="fu">which.max</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Highest Singular Ad Impressions by Candidate (2020)"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Spend"</span>,<span class="st">"Organization Name"</span>,<span class="st">"Paying Advertiser Name"</span>,<span class="st">"Impressions"</span>,<span class="st">"Start Date"</span>,<span class="st">"End Date"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., candidate_ballot_information, spend, organization_name, : object 'polads' not found</code></pre>
</div>
</div>
<p>The highest number of impressions received for a singular ad supporting Biden was 17,927,667, while for Trump it was 31,848,256. The higher number of impressions for Trump‚Äôs ad could be attributed to it not having a set end date.</p>
<p>I‚Äôm interested in knowing the relative expenditure and impressions for advertisements by candidate as well. First, I want to extract the month from the <code>start_date</code> and <code>end_date</code> columns and use it to determine spending over the months.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">start_month =</span> <span class="fu">month</span>(start_date,<span class="at">label =</span> <span class="cn">TRUE</span>),<span class="at">end_month =</span> <span class="fu">month</span>(end_date, <span class="at">label =</span> <span class="cn">TRUE</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in mutate(., start_month = month(start_date, label = TRUE), end_month = month(end_date, : object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(polads<span class="sc">$</span>start_month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in str(polads$start_month): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(polads<span class="sc">$</span>end_month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in str(polads$end_month): object 'polads' not found</code></pre>
</div>
</div>
<p>I‚Äôll need to take a log transformation because the values in the <code>spend</code> column are skewed. I‚Äôm using a smooth plot to track expenditure and impressions over the months.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>exp_by_month_plot <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>start_date, <span class="at">y=</span><span class="fu">log</span>(spend), <span class="at">group=</span>candidate_ballot_information, <span class="at">color=</span>candidate_ballot_information)) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Political Ad Expenditure per Month by Candidate (2020)"</span>, <span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Expenditure"</span>, <span class="at">colour =</span> <span class="st">"Candidate"</span>) <span class="sc">+</span> <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in ggplot(., aes(x = start_date, y = log(spend), group = candidate_ballot_information, : object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>exp_by_month_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'exp_by_month_plot' not found</code></pre>
</div>
</div>
<p>More funds were spent on political ads supporting Biden‚Äôs campaign in the months leading up to election day, i.e.&nbsp;July to November. Ads for Trump‚Äôs campaign received more funds in the first half of the year. It would be worthwhile to compare the impressions of advertisements for both candidates too:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>imp_by_month_plot <span class="ot">&lt;-</span>polads <span class="sc">%&gt;%</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>start_date, <span class="at">y=</span><span class="fu">log</span>(impressions), <span class="at">group=</span>candidate_ballot_information, <span class="at">color=</span>candidate_ballot_information)) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Political Ad Impressions per Month by Candidate (2020)"</span>, <span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Impressions"</span>, <span class="at">colour =</span> <span class="st">"Candidate"</span>) <span class="sc">+</span> <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in ggplot(., aes(x = start_date, y = log(impressions), group = candidate_ballot_information, : object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>imp_by_month_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'imp_by_month_plot' not found</code></pre>
</div>
</div>
<p>Advertisements supporting Trump‚Äôs campaign seem to have reached more people than Biden‚Äôs advertisements in the first half of the year. However, as noted before, impressions reached for advertisements for Biden‚Äôs campaign were more prominent in the later months of the year.</p>
<p>I want to know which ads had the longest and shortest duration by candidate, to see whether impressions vary greatly:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(candidate_ballot_information,organization_name,paying_advertiser_name,start_date,end_date,ad_duration,impressions)<span class="sc">%&gt;%</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="fu">which.max</span>(ad_duration),<span class="fu">which.min</span>(ad_duration)) <span class="sc">%&gt;%</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Longest and Shortest Snapchat Political Ads by Candidate (2020)"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Organization Name"</span>,<span class="st">"Paying Advertiser Name"</span>,<span class="st">"Start Date"</span>,<span class="st">"End Date"</span>,<span class="st">"Ad Duration"</span>,<span class="st">"Impressions"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., candidate_ballot_information, organization_name, paying_advertiser_name, : object 'polads' not found</code></pre>
</div>
</div>
<p>The longest duration of an ad supporting Biden was more than 835 hours long and ran till election day. It‚Äôs interesting that the ad with the shortest duration (29 hours) supporting this candidate received way more impressions than the longer one. This could be because the shorter ad was run on election day. On the other hand, the longest duration for Trump‚Äôs ads was more than 1860 hours long, also running till the end of election day. The shortest ad (6.6 hours) for this candidate was displayed in June and received lesser impressions too.The paying advertiser‚Äôs names indicate that these ads were probably issued directly from the respective candidates‚Äô campaigns and not by an outside entity (except for the shortest ad supporting Trump).</p>
</section>
<section id="location-targeting-analysis" class="level3">
<h3 class="anchored" data-anchor-id="location-targeting-analysis">Location Targeting Analysis</h3>
<section id="wrangling-with-the-location-columns" class="level4">
<h4 class="anchored" data-anchor-id="wrangling-with-the-location-columns">Wrangling with the location columns</h4>
<p>The following columns indicate different types of information about the locations targeted by the advertisements: <code>regions_included</code>, <code>regions_excluded</code>, <code>electoral_districts_included</code>, <code>radius_targeting_included</code>, <code>radius_targeting_excluded</code>, <code>metros_included</code>, <code>metros_excluded</code>, <code>postal_codes_included</code>, <code>postal_codes_excluded</code>. Most of these columns do not have enough values to be effectively analyzed, and due to a lack of time, the list column <code>postal_codes_included</code> could not be included in my analysis.</p>
<p>I‚Äôll be using the <code>regions_included</code> and <code>regions_excluded</code> columns. They have multiple states in each row which need to be separated into different rows:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># regions_included</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(regions_included, <span class="at">sep =</span> <span class="st">","</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in separate_rows(., regions_included, sep = ","): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(polads<span class="sc">$</span>regions_included)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in unique(polads$regions_included): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># `regions_excluded`</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(regions_excluded, <span class="at">sep =</span> <span class="st">","</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in separate_rows(., regions_excluded, sep = ","): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(polads<span class="sc">$</span>regions_excluded)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in unique(polads$regions_excluded): object 'polads' not found</code></pre>
</div>
</div>
<p>The states of Alaska, Hawaii, and California were excluded from being shown certain political advertisements of the candidates. This could be either due to the stringent laws these states have for reporting campaign contributions and expenditure activities or historic voting patterns (‚ÄúCampaign Disclosure, Filer Resources, Alaska Public Offices Commission, Department of Administration, State of Alaska‚Äù, n.d.;‚ÄúContribution Limits‚Äù, n.d.;Electronic Media Advertisements, 2020).</p>
<p>Checking whether information on <code>organization_name</code> and <code>paying_advertiser_name</code> is available for those advertisements excluding these states:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(organization_name,paying_advertiser_name,spend,candidate_ballot_information,regions_excluded) <span class="sc">%&gt;%</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(regions_excluded, <span class="st">'California|Hawaii|Alaska'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., organization_name, paying_advertiser_name, spend, candidate_ballot_information, : object 'polads' not found</code></pre>
</div>
</div>
<p>All of the ads that excluded these regions supported Donald Trump as a candidate, were by an organization called ‚ÄòMarud Khan‚Äô, and were paid for by Albbiom Marketing LLC. According to Markay (2020), Albbiom Marketing LLC is a marketing company without a proper address that provides ‚Äúfree‚Äù Trump merchandise and has scammed people in the past. They also found no evidence that ‚ÄòMarud Khan‚Äô was a real person.</p>
</section>
<section id="creating-a-data-subset-for-location-analysis" class="level4">
<h4 class="anchored" data-anchor-id="creating-a-data-subset-for-location-analysis">Creating a data subset for location analysis</h4>
<p>Checking the distribution of values in the <code>spend</code> and <code>impressions</code> columns:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: distribution of spend and impressions</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(polads, <span class="fu">aes</span>(<span class="at">x=</span>spend)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Expenditure Distribution"</span>, <span class="at">x =</span> <span class="st">"Expenditure"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in ggplot(polads, aes(x = spend)): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(polads, <span class="fu">aes</span>(<span class="at">x=</span>impressions)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Impressions Distribution"</span>, <span class="at">x =</span> <span class="st">"Impressions"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in ggplot(polads, aes(x = impressions)): object 'polads' not found</code></pre>
</div>
</div>
<p>Clearly, both distributions are skewed to the right and are not symmetric. Hence, I‚Äôm taking the median of these columns for analysis. Creating a subset of the data for further analysis:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>polads_loc1 <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(regions_included,spend,impressions,candidate_ballot_information) <span class="sc">%&gt;%</span></span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(regions_included) <span class="sc">%&gt;%</span></span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(regions_included,candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">spend_median =</span> <span class="fu">median</span>(spend),<span class="at">impressions_median =</span> <span class="fu">median</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state=</span>regions_included)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., regions_included, spend, impressions, candidate_ballot_information): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>polads_loc1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'polads_loc1' not found</code></pre>
</div>
</div>
</section>
<section id="ad-expenditure-across-states" class="level4">
<h4 class="anchored" data-anchor-id="ad-expenditure-across-states">Ad expenditure across states</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>loc_spend_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1, <span class="at">values =</span> <span class="st">"spend_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Expenditure"</span>) <span class="sc">+</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Expenditure Across the States"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in nrow(data): object 'polads_loc1' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>loc_spend_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'loc_spend_plot' not found</code></pre>
</div>
</div>
<p>From this plot, we can observe that ads targeting Pennsylvania and Nebraska had relatively higher median expenditure. Now, let‚Äôs look at median ad expenditure across states by the candidate they supported.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Biden ads</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>polads_loc1_biden <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(regions_included,spend,impressions,candidate_ballot_information) <span class="sc">%&gt;%</span></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(candidate_ballot_information<span class="sc">==</span><span class="st">"Biden"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(regions_included) <span class="sc">%&gt;%</span></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(regions_included,candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">spend_median =</span> <span class="fu">median</span>(spend),<span class="at">impressions_median =</span> <span class="fu">median</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state=</span>regions_included)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., regions_included, spend, impressions, candidate_ballot_information): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>polads_loc1_biden</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'polads_loc1_biden' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting expenditure for Biden ads</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>loc_spend_biden_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1_biden, <span class="at">values =</span> <span class="st">"spend_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Expenditure"</span>) <span class="sc">+</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Expenditure for Biden Across the States (2020)"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in nrow(data): object 'polads_loc1_biden' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Trump ads</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>polads_loc1_trump <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(regions_included,spend,impressions,candidate_ballot_information) <span class="sc">%&gt;%</span></span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(candidate_ballot_information<span class="sc">==</span><span class="st">"Trump"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(regions_included) <span class="sc">%&gt;%</span></span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(regions_included,candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">spend_median =</span> <span class="fu">median</span>(spend),<span class="at">impressions_median =</span> <span class="fu">median</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state=</span>regions_included)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., regions_included, spend, impressions, candidate_ballot_information): object 'polads' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>polads_loc1_trump</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'polads_loc1_trump' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting expenditure for Trump ads</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>loc_spend_trump_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1_trump, <span class="at">values =</span> <span class="st">"spend_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Expenditure"</span>) <span class="sc">+</span></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Expenditure for Trump Across the States (2020)"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in nrow(data): object 'polads_loc1_trump' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># comparing plots</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>loc_spend_biden_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'loc_spend_biden_plot' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>loc_spend_trump_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'loc_spend_trump_plot' not found</code></pre>
</div>
</div>
<p>For Biden‚Äôs ads, the median expenditure was highest in Pennsylvania and Nebraska. For Trump‚Äôs, it was highest in Texas, Mississippi, and South Carolina. While Trump explicitly targeted all states, Biden‚Äôs ads were limited to particular states.</p>
<p>Next, I‚Äôm looking at how ad expenditure across targeted states changes over the months:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>polads_loc_month1 <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(regions_included,spend,impressions,candidate_ballot_information,start_month) <span class="sc">%&gt;%</span></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(regions_included) <span class="sc">%&gt;%</span></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(regions_included,candidate_ballot_information,start_month)<span class="sc">%&gt;%</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">spend_median =</span> <span class="fu">median</span>(spend),<span class="at">impressions_median =</span> <span class="fu">median</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state=</span>regions_included)</span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a>polads_loc_month1</span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting expenditure</span></span>
<span id="cb147-11"><a href="#cb147-11" aria-hidden="true" tabindex="-1"></a>loc_spend_month_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc_month1, <span class="at">values =</span> <span class="st">"spend_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>,<span class="at">label_color =</span> <span class="st">"black"</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Ad Expenditure Amount by Month"</span>) <span class="sc">+</span></span>
<span id="cb147-12"><a href="#cb147-12" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Expenditure Across the States"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb147-13"><a href="#cb147-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-14"><a href="#cb147-14" aria-hidden="true" tabindex="-1"></a>loc_spend_month_plot</span>
<span id="cb147-15"><a href="#cb147-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-16"><a href="#cb147-16" aria-hidden="true" tabindex="-1"></a><span class="co"># animating change in median expenditure by month</span></span>
<span id="cb147-17"><a href="#cb147-17" aria-hidden="true" tabindex="-1"></a>loc_spend_month_transition <span class="ot">&lt;-</span> loc_spend_month_plot <span class="sc">+</span></span>
<span id="cb147-18"><a href="#cb147-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Political Ad Expenditure in {as.numeric(frame_time)}"</span>) <span class="sc">+</span> <span class="fu">transition_time</span>(<span class="fu">as.numeric</span>(start_month))</span>
<span id="cb147-19"><a href="#cb147-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-20"><a href="#cb147-20" aria-hidden="true" tabindex="-1"></a>loc_spend_anim <span class="ot">&lt;-</span> <span class="fu">animate</span>(loc_spend_month_transition, <span class="at">fps=</span><span class="dv">10</span>) <span class="sc">+</span> <span class="fu">ease_aes</span>(<span class="st">'linear'</span>)</span>
<span id="cb147-21"><a href="#cb147-21" aria-hidden="true" tabindex="-1"></a>loc_spend_anim</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I couldn‚Äôt get the above block of code to display any output even though it ran perfectly fine on my RStudio.</p>
</div>
</div>
</section>
<section id="ad-impressions-across-states" class="level4">
<h4 class="anchored" data-anchor-id="ad-impressions-across-states">Ad impressions across states</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>loc_imp_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1, <span class="at">values =</span> <span class="st">"impressions_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Impressions"</span>) <span class="sc">+</span></span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Impressions Across the States (2020)"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in nrow(data): object 'polads_loc1' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>loc_imp_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'loc_imp_plot' not found</code></pre>
</div>
</div>
<p>Overall, Mississippi and South Carolina had the highest median ad impressions.</p>
<p>Now, looking at the median ad impressions across states by the candidate they supported.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting impressions for Biden ads</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>loc_imp_biden_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1_biden, <span class="at">values =</span> <span class="st">"impressions_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Impressions"</span>) <span class="sc">+</span></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Impressions for Biden Across the States (2020)"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in nrow(data): object 'polads_loc1_biden' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting impressions for Trump ads</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>loc_imp_trump_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1_trump, <span class="at">values =</span> <span class="st">"impressions_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Impressions"</span>) <span class="sc">+</span></span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Impressions for Trump Across the States (2020)"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in nrow(data): object 'polads_loc1_trump' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># comparing plots</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>loc_imp_biden_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'loc_imp_biden_plot' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>loc_imp_trump_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'loc_imp_trump_plot' not found</code></pre>
</div>
</div>
<p>In a similar trend to median expenditure, Biden‚Äôs ads got their highest median impressions in Nebraska and Pennsylvania, while median impressions for Trump‚Äôs ads were highest in Texas, Mississippi, and South Carolina.</p>
<p>Conducting a sanity check with the data:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking highest median expenditure by candidate</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>polads_loc1<span class="sc">%&gt;%</span></span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state,candidate_ballot_information,spend_median) <span class="sc">%&gt;%</span></span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information) <span class="sc">%&gt;%</span></span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(spend_median)) <span class="sc">%&gt;%</span></span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Highest Median Ad Expenditure by State and Candidate (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"State"</span>,<span class="st">"Candidate"</span>,<span class="st">"Median Expenditure"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb160-8"><a href="#cb160-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., state, candidate_ballot_information, spend_median): object 'polads_loc1' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checking highest median impressions by candidate</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>polads_loc1<span class="sc">%&gt;%</span></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state,candidate_ballot_information,impressions_median) <span class="sc">%&gt;%</span></span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information) <span class="sc">%&gt;%</span></span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(impressions_median)) <span class="sc">%&gt;%</span></span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb162-7"><a href="#cb162-7" aria-hidden="true" tabindex="-1"></a>    knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Highest Median Ad Impressions by State and Candidate (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"State"</span>,<span class="st">"Candidate"</span>,<span class="st">"Median Expenditure"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb162-8"><a href="#cb162-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in select(., state, candidate_ballot_information, impressions_median): object 'polads_loc1' not found</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="reflections" class="level2">
<h2 class="anchored" data-anchor-id="reflections">Reflections</h2>
<p>In 2020, the United States made far more use of the Snapchat social media platform for political ads compared to other countries. The above analysis showcased the reach and funding of advertisements supporting the candidates Joe Biden and Donald Trump prior to and during the 2020 presidential election season. The variables that I focused on - ad expenditure, ad impressions, location micro-targeting, and even ad duration - all contribute to forming an effective political advertising strategy. It is important to note that there were more ads that supported Biden in this dataset, which may have skewed the results summarized below.</p>
<p>The data revealed a close correlation between the amount of expenditure on ads and the impressions they received. Ads supporting Biden had more funds allocated to them and also received more impressions. This may have played a part in his election victory. Biden‚Äôs ads were more frequent in the second half of 2020, while it was the opposite trend for Trump‚Äôs ads. The timing of the ad also matters. A shorter ad supporting Biden displayed on election day received more impressions that the one running for more than 800 hours from September 2020. From the location visualizations, it seems that candidates were targeting states that were predominantly Democratic or Republican in order to either win them over or maintain their party dominance.</p>
<p>In terms of the data used, I wish I looked at how sparse the data were in columns like <code>advanced_demographics</code> and <code>radius_targeting_included</code> before beginning because I was really looking forward to using it in my analysis. Another caveat of this data was that since there were multiple regions in a single entry of the <code>regions_included</code> column, it became hard to find out the individual ad expenditure and impressions for each state.</p>
<p>Nevertheless, I enjoyed the process of completing this project. Though I can still improve, I learnt a lot about coding in R - from writing tidy code to creating publication-worthy plots. At the same time, I think I got a bit overwhelmed with everything that can be done in R since I kept going down an online rabbit hole of endless packages and techniques. Also, I learnt not to underestimate the importance of the data cleaning process; I spent a lot more time on that than actually analyzing the data.</p>
</section>
<section id="future-directions" class="level2">
<h2 class="anchored" data-anchor-id="future-directions">Future Directions</h2>
<p>Further analysis can be done with this dataset. One could determine the type of entity paying for the ads for both candidates (whether it was funded by their own campaign or an outside organization), and the highest paying advertisers. I wanted to do more with the <code>ad_duration</code> column I‚Äôd created, but I found working with the difftime object more difficult than expected. Plots showing change in expenditure and impressions by state over time could also be generated. More analysis can be conducted with the postal codes data provided in this dataset to map more specific regions that the ads were targeting. Lastly, future projects could join data on individual state populations and analyze expenditure and impressions in relation to that.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<div id="refs" role="doc-bibliography">
<p>California Fair Political Practices Commission. (2020). <em>Electronic Media Advertisements</em> [PDF]. Retrieved 3 September 2022, from <a href="https://www.fppc.ca.gov/content/dam/fppc/NS-Documents/AgendaDocuments/Task-Force/dttf-2020/march-2020/Legal.pdf" class="uri">https://www.fppc.ca.gov/content/dam/fppc/NS-Documents/AgendaDocuments/Task-Force/dttf-2020/march-2020/Legal.pdf</a>.</p>
<p><em>Campaign Disclosure, Filer Resources, Alaska Public Offices Commission, Department of Administration, State of Alaska</em>. Alaska Department of Administration. Retrieved 3 September 2022, from <a href="https://doa.alaska.gov/apoc/FilerResources/campaignDisclosure.html" class="uri">https://doa.alaska.gov/apoc/FilerResources/campaignDisclosure.html</a>.</p>
<p><em>Contribution Limits</em>. Campaign Spending Commission. Retrieved 3 September 2022, from <a href="https://ags.hawaii.gov/campaign/contribution-limits/" class="uri">https://ags.hawaii.gov/campaign/contribution-limits/</a>.</p>
<p>Grolemund, G., &amp; Wickham, H. (2016). <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em>. O‚ÄôReilly Media.</p>
<p><em>Lookalike Audiences</em>. Business Help Center - Snapchat. Retrieved 3 September 2022, from <a href="https://businesshelp.snapchat.com/s/article/create-lookalike-audience?language=en_US" class="uri">https://businesshelp.snapchat.com/s/article/create-lookalike-audience?language=en_US</a>.</p>
<p>Markay, L. (2020). <em>The Trump-Scam-Industrial-Complex Now Extends to Snapchat. Daily Beast</em>. Retrieved 2 September 2022, from <a href="https://www.thedailybeast.com/the-trump-scam-industrial-complex-now-extends-to-snapchat?ref=scroll" class="uri">https://www.thedailybeast.com/the-trump-scam-industrial-complex-now-extends-to-snapchat?ref=scroll</a>.</p>
<p>R Core Team. (2020). <em>R: A language and environment for statistical computing</em>. R Foundation for Statistical Computing, Vienna, Austria.<a href="https://www.r-project.org" class="uri">https://www.r-project.org</a>.</p>
<p>Rodriguez, S. (2020). <em>Snap stock rockets up after surprise earnings beat</em>. CNBC. Retrieved 3 September 2022, from <a href="https://www.cnbc.com/2020/10/20/snap-earnings-q3-2020.html" class="uri">https://www.cnbc.com/2020/10/20/snap-earnings-q3-2020.html</a>.</p>
<p>RStudio Team. (2019). <em>RStudio: Integrated Development for R</em>. RStudio, Inc., Boston, MA. <a href="https://www.rstudio.com" class="uri">https://www.rstudio.com</a>.</p>
<p><em>Snap Audience Match Terms</em>. Snap Inc.&nbsp;Retrieved 3 September 2022, from <a href="https://snap.com/en-US/terms/snap-audience-match" class="uri">https://snap.com/en-US/terms/snap-audience-match</a>.</p>
<p><em>Snapchat statistics 2020</em>. (2020). Smart Insights. Retrieved 4 September 2022, from <a href="https://www.smartinsights.com/social-media-marketing/social-media-strategy/snapchat-statistics/" class="uri">https://www.smartinsights.com/social-media-marketing/social-media-strategy/snapchat-statistics/</a>.</p>
<p>Snap Inc.&nbsp;(n.d.). <em>PoliticalAds</em> [Data set]. <a href="https://snap.com/en-US/political-ads" class="uri">https://snap.com/en-US/political-ads</a>.</p>
<p>Tomasi, R. (2021). <em>Quick guide on social media advertising for campaigns and public institutions</em>. The European Campaign Playbook. Retrieved 2 September 2022, from <a href="https://www.campaignplaybook.eu/blog_quick_guide_on_social_media_advertising" class="uri">https://www.campaignplaybook.eu/blog_quick_guide_on_social_media_advertising</a>.</p>
<p><em>What is Micro-Targeting &amp; How Does it Affect Advertising</em> (n.d.). MNI Targeted Media. Retrieved 4 September 2022, from <a href="https://www.mni.com/blog/advertmarket/what-is-micro-targeting-how-does-it-affect-advertising/" class="uri">https://www.mni.com/blog/advertmarket/what-is-micro-targeting-how-does-it-affect-advertising/</a>.</p>
</div>
</section>
<section id="appendix" class="level2">
<h2 class="anchored" data-anchor-id="appendix">Appendix</h2>
<section id="dataframe-variable-names-and-descriptions" class="level3">
<h3 class="anchored" data-anchor-id="dataframe-variable-names-and-descriptions">Dataframe variable names and descriptions</h3>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Variable Name</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ADID</code></td>
<td>A unique value for each political advertisement.</td>
</tr>
<tr class="even">
<td><code>CreativeURL</code></td>
<td>A URL to the advertisement‚Äôs creative content.</td>
</tr>
<tr class="odd">
<td><code>Currency Code</code></td>
<td>The currency used by the account creating the advertisement.</td>
</tr>
<tr class="even">
<td><code>Spend</code></td>
<td>The amount spent by the advertiser for the ad campaign expressed in local currency.</td>
</tr>
<tr class="odd">
<td><code>Impressions</code></td>
<td>The number of times the advertisement has been viewed by Snapchat users.</td>
</tr>
<tr class="even">
<td><code>StartDate</code></td>
<td>The time at which the advertisement was set to start running on the platform.</td>
</tr>
<tr class="odd">
<td><code>EndDate</code></td>
<td>The time at which the advertisement was set to stop running on the platform.</td>
</tr>
<tr class="even">
<td><code>OrganizationName</code></td>
<td>The organization that is responsible for creating the advertisement.</td>
</tr>
<tr class="odd">
<td><code>BillingAddress</code></td>
<td>The address of the organization that is responsible for creating the advertisement.</td>
</tr>
<tr class="even">
<td><code>CandidateBallotInformation</code></td>
<td>Information on the candidate (for California elections: also the office they are contesting for) or ballot initiative that the advertisement is associated with the advertisement.</td>
</tr>
<tr class="odd">
<td><code>PayingAdvertiserName</code></td>
<td>The entity that is providing funds for the advertisement.</td>
</tr>
<tr class="even">
<td><code>CommitteeName</code></td>
<td>The name of the committee paying for the advertisement.</td>
</tr>
<tr class="odd">
<td><code>CommitteeIdentificationNumber</code></td>
<td>The identification number of the committee paying for the advertisement.</td>
</tr>
<tr class="even">
<td><code>DisclosureNameOfCommittee</code></td>
<td>The disclosure name of the committee paying for the advertisement, as stipulated by California law.</td>
</tr>
<tr class="odd">
<td><code>AdvertisingJurisdiction</code></td>
<td>The jurisdiction that the advertisement refers to.</td>
</tr>
<tr class="even">
<td><code>Gender</code></td>
<td>The genders targeted by the advertisement. If this field is empty, all genders were targeted.</td>
</tr>
<tr class="odd">
<td><code>AgeBracket</code></td>
<td>The ages targeted by the advertisement. If this field is empty, all ages were targeted.</td>
</tr>
<tr class="even">
<td><code>CountryCode</code></td>
<td>The country that the advertisement is targeting.</td>
</tr>
<tr class="odd">
<td><code>Regions (Included)</code></td>
<td>The region(s) included in the advertisement‚Äôs targeting criteria (states or provinces).</td>
</tr>
<tr class="even">
<td><code>Regions (Excluded)</code></td>
<td>The region(s) excluded in the advertisement‚Äôs targeting criteria (states or provinces).</td>
</tr>
<tr class="odd">
<td><code>Electoral Districts (Included)</code></td>
<td>The electoral district(s) included in the advertisement‚Äôs targeting criteria.</td>
</tr>
<tr class="even">
<td><code>Electoral Districts (Excluded)</code></td>
<td>The electoral district(s) excluded in the advertisement‚Äôs targeting criteria.</td>
</tr>
<tr class="odd">
<td><code>Radius Targeting (Included)</code></td>
<td>The point-radius circles included in the advertisement‚Äôs targeting criteria.</td>
</tr>
<tr class="even">
<td><code>Radius Targeting (Excluded)</code></td>
<td>The point-radius circles excluded in the advertisement‚Äôs targeting criteria.</td>
</tr>
<tr class="odd">
<td><code>Metros (Included)</code></td>
<td>The metro(s) included in the advertisement‚Äôs targeting criteria.</td>
</tr>
<tr class="even">
<td><code>Metros (Excluded)</code></td>
<td>The metro(s) excluded in the advertisement‚Äôs targeting criteria.</td>
</tr>
<tr class="odd">
<td><code>Postal Code (Included)</code></td>
<td>The postal code(s) included in the advertisement‚Äôs targeting criteria.</td>
</tr>
<tr class="even">
<td><code>Postal Code (Excluded)</code></td>
<td>The postal code(s) excluded in the advertisement‚Äôs targeting criteria.</td>
</tr>
<tr class="odd">
<td><code>Location Categories (Included)</code></td>
<td>The location categories included in the advertisement‚Äôs targeting criteria.</td>
</tr>
<tr class="even">
<td><code>Location Categories (Excluded)</code></td>
<td>The location categories excluded in the advertisement‚Äôs targeting criteria.</td>
</tr>
<tr class="odd">
<td><code>Interests</code></td>
<td>The interest audience(s) included in the advertisement‚Äôs targeting criteria. If this field is empty, then no interest targeting was used.</td>
</tr>
<tr class="even">
<td><code>OsType</code></td>
<td>The operating systems included in the advertisement‚Äôs targeting criteria. If this field is empty, then all operating systems were targeted.</td>
</tr>
<tr class="odd">
<td><code>Segments</code></td>
<td>The segments included in the advertisement‚Äôs targeting criteria. This is advertiser-specific data used such as Snap Audience Match<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> or Lookalike audiences<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></td>
</tr>
<tr class="even">
<td><code>Language</code></td>
<td>The languages targeted by the advertisement. If this field is empty, then no language-based targeting was used.</td>
</tr>
<tr class="odd">
<td><code>AdvancedDemographics</code></td>
<td>The third-party data segments targeted by the advertisement. If this field is empty, then no third-party data segments were used.</td>
</tr>
<tr class="even">
<td><code>Targeting Connection Type</code></td>
<td>The internet connection type targeted by the advertisement. If this field is empty, then no targeting based on internet connect type was used.</td>
</tr>
<tr class="odd">
<td><code>Targeting Carrier (ISP)</code></td>
<td>The carrier type targeted by the advertisement. If this field is empty, all carrier types are targeted.</td>
</tr>
<tr class="even">
<td><code>CreativeProperties</code></td>
<td>The URL specified in advertisement‚Äôs call to action.</td>
</tr>
</tbody>
</table>


<!-- -->

</section>
</section>


<div id="quarto-appendix" class="default"><section class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1" role="doc-endnote"><p>Snap Audience Match or Customer List Audience is a Snapchat feature that allows users to send their data to the platform and its affiliates to form custom audiences (‚ÄúSnapchat Audience Match Terms‚Äù, n.d.).<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn2" role="doc-endnote"><p>A Lookalike audience reaches Snapchat users that have similar characteristics to an organization account‚Äôs existing customers. There are three different options: Similarity (a small-size audience that closely resembles the seed audience), Balance (a medium-size audience that balances similarity and reach), and Reach (a large-size audience that broadly resembles the seed audience) (‚ÄúLookalike Audiences‚Äù, n.d.).<a href="#fnref2" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/DACSS_601_August2022_v2" data-repo-id="R_kgDOH1g84A" data-category="Announcements" data-category-id="DIC_kwDOH1g84M4CQ6Pq" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb164" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Final Project"</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Ananya Pujary"</span></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Analyzing Snapchat Political Ads in the US in 2020"</span></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "09/04/2022"</span></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb164-8"><a href="#cb164-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb164-9"><a href="#cb164-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb164-10"><a href="#cb164-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb164-11"><a href="#cb164-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb164-12"><a href="#cb164-12" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb164-13"><a href="#cb164-13" aria-hidden="true" tabindex="-1"></a><span class="co">  - final-project</span></span>
<span id="cb164-14"><a href="#cb164-14" aria-hidden="true" tabindex="-1"></a><span class="co">  - snapchat-political-ads</span></span>
<span id="cb164-15"><a href="#cb164-15" aria-hidden="true" tabindex="-1"></a><span class="co">  - ggplot</span></span>
<span id="cb164-16"><a href="#cb164-16" aria-hidden="true" tabindex="-1"></a><span class="co">  - dplyr</span></span>
<span id="cb164-17"><a href="#cb164-17" aria-hidden="true" tabindex="-1"></a><span class="co">  - stringr</span></span>
<span id="cb164-18"><a href="#cb164-18" aria-hidden="true" tabindex="-1"></a><span class="co">  - lubridate</span></span>
<span id="cb164-19"><a href="#cb164-19" aria-hidden="true" tabindex="-1"></a><span class="co">  - janitor</span></span>
<span id="cb164-20"><a href="#cb164-20" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb164-21"><a href="#cb164-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-22"><a href="#cb164-22" aria-hidden="true" tabindex="-1"></a><span class="fu">## Loading the Packages</span></span>
<span id="cb164-23"><a href="#cb164-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-26"><a href="#cb164-26" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-27"><a href="#cb164-27" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb164-28"><a href="#cb164-28" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb164-29"><a href="#cb164-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-30"><a href="#cb164-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb164-31"><a href="#cb164-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(googlesheets4)</span>
<span id="cb164-32"><a href="#cb164-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb164-33"><a href="#cb164-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb164-34"><a href="#cb164-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb164-35"><a href="#cb164-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb164-36"><a href="#cb164-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb164-37"><a href="#cb164-37" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(corrr))</span>
<span id="cb164-38"><a href="#cb164-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"corrr"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb164-39"><a href="#cb164-39" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(janitor))</span>
<span id="cb164-40"><a href="#cb164-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"janitor"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb164-41"><a href="#cb164-41" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(usmap))</span>
<span id="cb164-42"><a href="#cb164-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"usmap"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb164-43"><a href="#cb164-43" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(viridis))</span>
<span id="cb164-44"><a href="#cb164-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"viridis"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb164-45"><a href="#cb164-45" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(transformr))</span>
<span id="cb164-46"><a href="#cb164-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"transformr"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb164-47"><a href="#cb164-47" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(patchwork))</span>
<span id="cb164-48"><a href="#cb164-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"patchwork"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb164-49"><a href="#cb164-49" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(kableExtra))</span>
<span id="cb164-50"><a href="#cb164-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"kableExtra"</span>,<span class="at">repos =</span> <span class="st">"https://cran.us.r-project.org"</span>)</span>
<span id="cb164-51"><a href="#cb164-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-52"><a href="#cb164-52" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb164-53"><a href="#cb164-53" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-54"><a href="#cb164-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-55"><a href="#cb164-55" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction</span></span>
<span id="cb164-56"><a href="#cb164-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-57"><a href="#cb164-57" aria-hidden="true" tabindex="-1"></a>Every election season, millions of dollars are spent on political advertisements that help candidates reach a wider audience of potential voters and influence the voting process (Nott, 2020). Political advertisements can be defined as those that "describe a political leader, organization, or party, a public office candidate, or an election/referendum" (Tomasi, 2021). These advertisements can also be created by entities other than the candidates themselves.</span>
<span id="cb164-58"><a href="#cb164-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-59"><a href="#cb164-59" aria-hidden="true" tabindex="-1"></a>Now, with the proliferation of social media in almost every aspect of our lives, they are also playing their part in influencing the political process. Unlike traditional media like newspapers and television, social media platforms are not liable for what is displayed on them and can set their own content regulations (Nott, 2020). Political advertisements on social media are becoming popular because they allow for a 'micro-targeting' of demographics and allow candidates to understand and reach the masses better, in turn increasing voter engagement (Nott, 2020). Micro-targeting refers to a marketing strategy that employs consumer demographics and data to generate audience segments ("What is Micro-Targeting &amp; How Does it Affect Advertising", n.d.).</span>
<span id="cb164-60"><a href="#cb164-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-61"><a href="#cb164-61" aria-hidden="true" tabindex="-1"></a>While Facebook and Google have long been the dominating players in digital political advertising, Snapchat is becoming increasingly popular. In 2020, Snapchat had around 249 million active users on its platform, most of them in the age range of 13-29 (Rodriguez, 2020; "Snapchat statistics 2020", 2020). Snapchat has made data about the political ads shown on their app public, so this project will use their data for the year 2020 (Snap Inc., n.d.). In particular, I'll be looking at advertisements shown in the United States for the candidates Joe Biden and Donald Trump. I chose these candidates because the presidential elections were held this year (November 3rd, 2020) and they closely contested against each other. Using this dataset, I plan on looking at relative advertisement expenditure, impressions, and location micro-targeting, and explore the following broad questions:</span>
<span id="cb164-62"><a href="#cb164-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-63"><a href="#cb164-63" aria-hidden="true" tabindex="-1"></a>::: {.callout-note appearance="simple"}</span>
<span id="cb164-64"><a href="#cb164-64" aria-hidden="true" tabindex="-1"></a><span class="fu">## Project Questions</span></span>
<span id="cb164-65"><a href="#cb164-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-66"><a href="#cb164-66" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Is there a relationship between political ad expenditure and impressions?</span>
<span id="cb164-67"><a href="#cb164-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-68"><a href="#cb164-68" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Which candidate's advertisements received more impressions?</span>
<span id="cb164-69"><a href="#cb164-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-70"><a href="#cb164-70" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>How much was spent on these advertisements and which candidate spent more on average?</span>
<span id="cb164-71"><a href="#cb164-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-72"><a href="#cb164-72" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Which states were targeted by these advertisements, and which states did each candidate target more?</span>
<span id="cb164-73"><a href="#cb164-73" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb164-74"><a href="#cb164-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-75"><a href="#cb164-75" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb164-76"><a href="#cb164-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-77"><a href="#cb164-77" aria-hidden="true" tabindex="-1"></a><span class="fu">## Reading in the Data</span></span>
<span id="cb164-78"><a href="#cb164-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-81"><a href="#cb164-81" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-82"><a href="#cb164-82" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: reading in the data</span></span>
<span id="cb164-83"><a href="#cb164-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-84"><a href="#cb164-84" aria-hidden="true" tabindex="-1"></a>polads_orig <span class="ot">&lt;-</span> <span class="fu">read_sheet</span>(<span class="st">'https://docs.google.com/spreadsheets/d/1S7jF0D2o8aC3gGndORVrksuSsvMMZwqVdKLmu4SYqUc/edit?usp=sharing'</span>)</span>
<span id="cb164-85"><a href="#cb164-85" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-86"><a href="#cb164-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-87"><a href="#cb164-87" aria-hidden="true" tabindex="-1"></a>Looking at the dataset's various characteristics:</span>
<span id="cb164-88"><a href="#cb164-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-91"><a href="#cb164-91" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-92"><a href="#cb164-92" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: describing the data (1)</span></span>
<span id="cb164-93"><a href="#cb164-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-94"><a href="#cb164-94" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(polads_orig)</span>
<span id="cb164-95"><a href="#cb164-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-96"><a href="#cb164-96" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summarytools<span class="sc">::</span><span class="fu">dfSummary</span>(polads_orig, <span class="at">varnumbers =</span> <span class="cn">FALSE</span>, <span class="at">plain.ascii =</span> <span class="cn">FALSE</span>, <span class="at">graph.magnif =</span> <span class="fl">0.50</span>, <span class="at">style =</span> <span class="st">"grid"</span>, <span class="at">valid.col =</span> <span class="cn">FALSE</span>), </span>
<span id="cb164-97"><a href="#cb164-97" aria-hidden="true" tabindex="-1"></a>      <span class="at">method =</span> <span class="st">'render'</span>, <span class="at">table.classes =</span> <span class="st">'table-condensed'</span>)</span>
<span id="cb164-98"><a href="#cb164-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-99"><a href="#cb164-99" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-100"><a href="#cb164-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-101"><a href="#cb164-101" aria-hidden="true" tabindex="-1"></a>This file contains the information for political ads that are/have been displayed on Snapchat's platform, such as the amount spent on them, the organization and advertisers behind them, the candidates/causes the ads support, demographic and location-based ad targeting, and so on. It has 12705 rows and 38 columns. There are 28 character-type, 1 list-type, 7 logical-type, and 2 numeric-type columns.</span>
<span id="cb164-102"><a href="#cb164-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-103"><a href="#cb164-103" aria-hidden="true" tabindex="-1"></a><span class="fu">## Tidying the Data</span></span>
<span id="cb164-104"><a href="#cb164-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-105"><a href="#cb164-105" aria-hidden="true" tabindex="-1"></a>Removing columns that only have missing values:</span>
<span id="cb164-106"><a href="#cb164-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-109"><a href="#cb164-109" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-110"><a href="#cb164-110" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (1)</span></span>
<span id="cb164-111"><a href="#cb164-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-112"><a href="#cb164-112" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads_orig <span class="sc">%&gt;%</span> </span>
<span id="cb164-113"><a href="#cb164-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">remove_empty</span>()</span>
<span id="cb164-114"><a href="#cb164-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-115"><a href="#cb164-115" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-116"><a href="#cb164-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-117"><a href="#cb164-117" aria-hidden="true" tabindex="-1"></a>Snake case is typically recommended by tidyverse's style guide for column names and object names. However the column names in this dataset are written either in title case (e.g. <span class="in">`Currency Code`</span>) or camel case (e.g. <span class="in">`OrganizationName`</span>). Some of them also contain special characters like brackets which could interfere with implementing R functions.</span>
<span id="cb164-118"><a href="#cb164-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-119"><a href="#cb164-119" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb164-120"><a href="#cb164-120" aria-hidden="true" tabindex="-1"></a>Snake case refers to the writing style that replaces spaces between words with an underscore (<span class="sc">\_</span>) and all of the letters in a word are lowercase. On the other hand, title case is the writing style in which the first letter of each word is capitalized and there are spaces between each word. A third type is the camel case, wherein phrases are written out without punctuation or spaces, and words are usually distinguished with the second word's first letter capitalized.</span>
<span id="cb164-121"><a href="#cb164-121" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb164-122"><a href="#cb164-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-123"><a href="#cb164-123" aria-hidden="true" tabindex="-1"></a>Hence, using the <span class="in">`clean_names()`</span> function from the 'janitor' package to convert all the column names accordingly.</span>
<span id="cb164-124"><a href="#cb164-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-127"><a href="#cb164-127" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-128"><a href="#cb164-128" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (2)</span></span>
<span id="cb164-129"><a href="#cb164-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-130"><a href="#cb164-130" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span><span class="fu">clean_names</span>(polads)</span>
<span id="cb164-131"><a href="#cb164-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-132"><a href="#cb164-132" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(polads)</span>
<span id="cb164-133"><a href="#cb164-133" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb164-134"><a href="#cb164-134" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-135"><a href="#cb164-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-136"><a href="#cb164-136" aria-hidden="true" tabindex="-1"></a><span class="fu">### Narrowing down the data</span></span>
<span id="cb164-137"><a href="#cb164-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-138"><a href="#cb164-138" aria-hidden="true" tabindex="-1"></a>Let's look at the distribution of countries receiving political advertisements on Snapchat for this year.</span>
<span id="cb164-139"><a href="#cb164-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-142"><a href="#cb164-142" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-143"><a href="#cb164-143" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (3)</span></span>
<span id="cb164-144"><a href="#cb164-144" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb164-145"><a href="#cb164-145" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(polads<span class="sc">$</span>country_code) <span class="sc">%&gt;%</span></span>
<span id="cb164-146"><a href="#cb164-146" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Countries Receiving Snapchat Political Ads (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Country"</span>,<span class="st">"Frequency"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-147"><a href="#cb164-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span>
<span id="cb164-148"><a href="#cb164-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-149"><a href="#cb164-149" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-150"><a href="#cb164-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-151"><a href="#cb164-151" aria-hidden="true" tabindex="-1"></a>Most of the political advertisements were delivered to places in the United States (11124). Only keeping rows that describe ads targeting the United States:</span>
<span id="cb164-152"><a href="#cb164-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-155"><a href="#cb164-155" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-156"><a href="#cb164-156" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (4)</span></span>
<span id="cb164-157"><a href="#cb164-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-158"><a href="#cb164-158" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> <span class="fu">filter</span>(polads,country_code <span class="sc">==</span><span class="st">"united states"</span>)</span>
<span id="cb164-159"><a href="#cb164-159" aria-hidden="true" tabindex="-1"></a>polads</span>
<span id="cb164-160"><a href="#cb164-160" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-161"><a href="#cb164-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-162"><a href="#cb164-162" aria-hidden="true" tabindex="-1"></a>Verifying whether all ads targeted for the United States were paid for in USD:</span>
<span id="cb164-163"><a href="#cb164-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-166"><a href="#cb164-166" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-167"><a href="#cb164-167" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (5)</span></span>
<span id="cb164-168"><a href="#cb164-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-169"><a href="#cb164-169" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,currency_code)) <span class="sc">%&gt;%</span></span>
<span id="cb164-170"><a href="#cb164-170" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Currency Code Frequency (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Currency Code"</span>,<span class="st">"Frequency"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-171"><a href="#cb164-171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span>
<span id="cb164-172"><a href="#cb164-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-173"><a href="#cb164-173" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-174"><a href="#cb164-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-175"><a href="#cb164-175" aria-hidden="true" tabindex="-1"></a>Three ads were paid for in Canadian Dollars (CAD). Finding out more about these three rows:</span>
<span id="cb164-176"><a href="#cb164-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-179"><a href="#cb164-179" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-180"><a href="#cb164-180" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (6)</span></span>
<span id="cb164-181"><a href="#cb164-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-182"><a href="#cb164-182" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb164-183"><a href="#cb164-183" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(currency_code<span class="sc">==</span><span class="st">"CAD"</span>)</span>
<span id="cb164-184"><a href="#cb164-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-185"><a href="#cb164-185" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-186"><a href="#cb164-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-187"><a href="#cb164-187" aria-hidden="true" tabindex="-1"></a>Two ads were paid for by the University of British Columbia and were targeted at people aged 16-25 in the following areas: San Francisco, Oakland, and San Jose. The third was paid for by Point Digital Creative Studio. None of them provided information about the candidate associated with the ad.</span>
<span id="cb164-188"><a href="#cb164-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-189"><a href="#cb164-189" aria-hidden="true" tabindex="-1"></a>Since we require information about the candidate in order to analyze relative ad spending, targeting and impressions, tidying up the <span class="in">`candidate_ballot_information`</span> column by removing missing values:</span>
<span id="cb164-190"><a href="#cb164-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-193"><a href="#cb164-193" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-194"><a href="#cb164-194" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (7)</span></span>
<span id="cb164-195"><a href="#cb164-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-196"><a href="#cb164-196" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(polads<span class="sc">$</span>candidate_ballot_information))</span>
<span id="cb164-197"><a href="#cb164-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-198"><a href="#cb164-198" aria-hidden="true" tabindex="-1"></a><span class="co"># removing rows with missing values</span></span>
<span id="cb164-199"><a href="#cb164-199" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> <span class="fu">drop_na</span>(polads,candidate_ballot_information)</span>
<span id="cb164-200"><a href="#cb164-200" aria-hidden="true" tabindex="-1"></a>polads</span>
<span id="cb164-201"><a href="#cb164-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-202"><a href="#cb164-202" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-203"><a href="#cb164-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-204"><a href="#cb164-204" aria-hidden="true" tabindex="-1"></a>There were 5312 rows missing candidate information. Next, I'm only including those rows that explicitly states the candidate name (containing the words "Biden" and "Trump").</span>
<span id="cb164-205"><a href="#cb164-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-208"><a href="#cb164-208" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-209"><a href="#cb164-209" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (8)</span></span>
<span id="cb164-210"><a href="#cb164-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-211"><a href="#cb164-211" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> <span class="fu">filter</span>(polads, <span class="fu">str_detect</span>(candidate_ballot_information, <span class="st">'Biden|Trump'</span>))</span>
<span id="cb164-212"><a href="#cb164-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-213"><a href="#cb164-213" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb164-214"><a href="#cb164-214" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,candidate_ballot_information)) <span class="sc">%&gt;%</span></span>
<span id="cb164-215"><a href="#cb164-215" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Frequency of Candidates"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Frequency"</span>))</span>
<span id="cb164-216"><a href="#cb164-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-217"><a href="#cb164-217" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-218"><a href="#cb164-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-219"><a href="#cb164-219" aria-hidden="true" tabindex="-1"></a>There are two entries that contain the string "Trump" but are in fact campaigning against him ("Against Trump", "Operation Dump Trump", "Titere de Trump"). There's also an entry called "Biden vs Trump" which doesn't clearly indicate which party the ad will be supporting. Removing these rows so that they don't skew the results:</span>
<span id="cb164-220"><a href="#cb164-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-223"><a href="#cb164-223" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-224"><a href="#cb164-224" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (9)</span></span>
<span id="cb164-225"><a href="#cb164-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-226"><a href="#cb164-226" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-227"><a href="#cb164-227" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(candidate_ballot_information<span class="sc">==</span><span class="st">"Against Trump"</span><span class="sc">|</span> candidate_ballot_information<span class="sc">==</span><span class="st">"Operation Dump Trump"</span><span class="sc">|</span> candidate_ballot_information<span class="sc">==</span><span class="st">"Biden vs Trump"</span><span class="sc">|</span> candidate_ballot_information<span class="sc">==</span><span class="st">"Titere de Trump"</span>))</span>
<span id="cb164-228"><a href="#cb164-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-229"><a href="#cb164-229" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-230"><a href="#cb164-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-231"><a href="#cb164-231" aria-hidden="true" tabindex="-1"></a>Since missing values in certain columns indicate that either all or none of the categories in the column were targeted, I'm changing their missing values accordingly for easy analysis.</span>
<span id="cb164-232"><a href="#cb164-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-235"><a href="#cb164-235" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-236"><a href="#cb164-236" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (10)</span></span>
<span id="cb164-237"><a href="#cb164-237" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb164-238"><a href="#cb164-238" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-239"><a href="#cb164-239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">gender =</span> <span class="st">"ALL"</span>,<span class="at">os_type =</span> <span class="st">"ALL"</span>,<span class="at">language =</span> <span class="st">"none"</span>,<span class="at">advanced_demographics =</span> <span class="st">"None"</span>,<span class="at">targeting_connection_type =</span> <span class="st">"None"</span>,<span class="at">targeting_carrier_isp =</span> <span class="st">"ALL"</span>))</span>
<span id="cb164-240"><a href="#cb164-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-241"><a href="#cb164-241" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb164-242"><a href="#cb164-242" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,gender))</span>
<span id="cb164-243"><a href="#cb164-243" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,os_type))</span>
<span id="cb164-244"><a href="#cb164-244" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,language))</span>
<span id="cb164-245"><a href="#cb164-245" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,advanced_demographics))</span>
<span id="cb164-246"><a href="#cb164-246" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,targeting_connection_type))</span>
<span id="cb164-247"><a href="#cb164-247" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,targeting_carrier_isp))</span>
<span id="cb164-248"><a href="#cb164-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-249"><a href="#cb164-249" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-250"><a href="#cb164-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-251"><a href="#cb164-251" aria-hidden="true" tabindex="-1"></a><span class="fu">### The case of `age_bracket` and `advanced_demographics`</span></span>
<span id="cb164-252"><a href="#cb164-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-253"><a href="#cb164-253" aria-hidden="true" tabindex="-1"></a>The <span class="in">`age_bracket`</span> column's values are as follows:</span>
<span id="cb164-254"><a href="#cb164-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-257"><a href="#cb164-257" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-258"><a href="#cb164-258" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (11)</span></span>
<span id="cb164-259"><a href="#cb164-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-260"><a href="#cb164-260" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,age_bracket)) <span class="sc">%&gt;%</span></span>
<span id="cb164-261"><a href="#cb164-261" aria-hidden="true" tabindex="-1"></a>    knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Age Targeting by Snapchat Political Ads (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Ages"</span>,<span class="st">"Frequency"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-262"><a href="#cb164-262" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span>
<span id="cb164-263"><a href="#cb164-263" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-264"><a href="#cb164-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-265"><a href="#cb164-265" aria-hidden="true" tabindex="-1"></a>Clearly, the column's values overlap and tend to refer to similar age groups, for instance, 18-20, 18-24, and 18+.</span>
<span id="cb164-266"><a href="#cb164-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-267"><a href="#cb164-267" aria-hidden="true" tabindex="-1"></a>As for <span class="in">`advanced_demographics`</span>:</span>
<span id="cb164-268"><a href="#cb164-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-271"><a href="#cb164-271" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-272"><a href="#cb164-272" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (12)</span></span>
<span id="cb164-273"><a href="#cb164-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-274"><a href="#cb164-274" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">select</span>(polads,advanced_demographics))<span class="sc">%&gt;%</span></span>
<span id="cb164-275"><a href="#cb164-275" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Advanced Demographics Targeting by Snapchat Political Ads (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Advanced Demographics"</span>,<span class="st">"Frequency"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-276"><a href="#cb164-276" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span>
<span id="cb164-277"><a href="#cb164-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-278"><a href="#cb164-278" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-279"><a href="#cb164-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-280"><a href="#cb164-280" aria-hidden="true" tabindex="-1"></a>Clearly, very few ads provided additional demographic information for ad targetting and the data aren't uniform (i.e. there are details on people's household incomes, occupations, languages spoken, educational levels, number of children etc.), so I wouldn't be able to effectively analyze it in relation to other columns. Though I was looking forward to analyzing these columns, the data they had were too sparse to work with.</span>
<span id="cb164-281"><a href="#cb164-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-282"><a href="#cb164-282" aria-hidden="true" tabindex="-1"></a><span class="fu">### Wrangling with the date columns</span></span>
<span id="cb164-283"><a href="#cb164-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-284"><a href="#cb164-284" aria-hidden="true" tabindex="-1"></a>The "Z" at the end of the date-timestamp indicates that the timezone chosen is UTC, but I won't be requiring it for analysis, so I'll remove it. Also, I'm arranging the rows by the start date set for the advertisement and converting the data types of the date columns (<span class="in">`start_date`</span> and <span class="in">`end_date`</span>) from character to date-time.</span>
<span id="cb164-285"><a href="#cb164-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-288"><a href="#cb164-288" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-289"><a href="#cb164-289" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (13)</span></span>
<span id="cb164-290"><a href="#cb164-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-291"><a href="#cb164-291" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-292"><a href="#cb164-292" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">ymd_hms</span>(polads<span class="sc">$</span>start_date))</span>
<span id="cb164-293"><a href="#cb164-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-294"><a href="#cb164-294" aria-hidden="true" tabindex="-1"></a><span class="co">#sanity check</span></span>
<span id="cb164-295"><a href="#cb164-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-296"><a href="#cb164-296" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(polads)</span>
<span id="cb164-297"><a href="#cb164-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-298"><a href="#cb164-298" aria-hidden="true" tabindex="-1"></a><span class="co"># converting data types of date columns from character to datetime</span></span>
<span id="cb164-299"><a href="#cb164-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-300"><a href="#cb164-300" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-301"><a href="#cb164-301" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">start_date =</span> <span class="fu">ymd_hms</span>(start_date)) <span class="sc">%&gt;%</span></span>
<span id="cb164-302"><a href="#cb164-302" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_date =</span> <span class="fu">ymd_hms</span>(end_date))</span>
<span id="cb164-303"><a href="#cb164-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-304"><a href="#cb164-304" aria-hidden="true" tabindex="-1"></a><span class="co"># rechecking class of these columns</span></span>
<span id="cb164-305"><a href="#cb164-305" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(polads<span class="sc">$</span>start_date)</span>
<span id="cb164-306"><a href="#cb164-306" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(polads<span class="sc">$</span>end_date)</span>
<span id="cb164-307"><a href="#cb164-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-308"><a href="#cb164-308" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(polads)</span>
<span id="cb164-309"><a href="#cb164-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-310"><a href="#cb164-310" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-311"><a href="#cb164-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-312"><a href="#cb164-312" aria-hidden="true" tabindex="-1"></a>Next, I want to create a new column that gives the duration for which the ad was run on Snapchat. I chose to display this information in hours.</span>
<span id="cb164-313"><a href="#cb164-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-316"><a href="#cb164-316" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-317"><a href="#cb164-317" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (14)</span></span>
<span id="cb164-318"><a href="#cb164-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-319"><a href="#cb164-319" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-320"><a href="#cb164-320" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ad_duration =</span> <span class="fu">difftime</span>(end_date,start_date,<span class="at">units=</span> <span class="fu">c</span>(<span class="st">"hours"</span>)))</span>
<span id="cb164-321"><a href="#cb164-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-322"><a href="#cb164-322" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(polads<span class="sc">$</span>ad_duration)</span>
<span id="cb164-323"><a href="#cb164-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-324"><a href="#cb164-324" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-325"><a href="#cb164-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-326"><a href="#cb164-326" aria-hidden="true" tabindex="-1"></a>Missing values show up for those rows without an end date for the advertisement. Plotting the distribution of political advertisement duration:</span>
<span id="cb164-327"><a href="#cb164-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-330"><a href="#cb164-330" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-331"><a href="#cb164-331" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (15)</span></span>
<span id="cb164-332"><a href="#cb164-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-333"><a href="#cb164-333" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(polads, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.numeric</span>(ad_duration))) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="dv">15</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Snapchat Political Ad Duration (2020)"</span>,<span class="at">x =</span> <span class="st">"Duration in Hours"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>, <span class="at">caption =</span> <span class="st">"Note: This plot does not include ads that did not specify an end date"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb164-334"><a href="#cb164-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-335"><a href="#cb164-335" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-336"><a href="#cb164-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-337"><a href="#cb164-337" aria-hidden="true" tabindex="-1"></a>A large proportion of the ads ran for less that 250 hours.</span>
<span id="cb164-338"><a href="#cb164-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-339"><a href="#cb164-339" aria-hidden="true" tabindex="-1"></a>Lastly, I'll be changing the entries <span class="in">`candidate_ballot_information`</span> to either "Biden" or "Trump" to make it more uniform and for ease of analysis. For instance, "Joe Biden for President" will be changed to "Biden".</span>
<span id="cb164-340"><a href="#cb164-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-343"><a href="#cb164-343" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-344"><a href="#cb164-344" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying the data (16)</span></span>
<span id="cb164-345"><a href="#cb164-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-346"><a href="#cb164-346" aria-hidden="true" tabindex="-1"></a><span class="co"># changing `candidate_ballot_information` to either "Biden" or "Trump"</span></span>
<span id="cb164-347"><a href="#cb164-347" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-348"><a href="#cb164-348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">candidate_ballot_information =</span> <span class="fu">case_when</span>(</span>
<span id="cb164-349"><a href="#cb164-349" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(candidate_ballot_information, <span class="st">"Biden"</span>) <span class="sc">~</span> <span class="st">"Biden"</span>,</span>
<span id="cb164-350"><a href="#cb164-350" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(candidate_ballot_information, <span class="st">"Trump"</span>)  <span class="sc">~</span> <span class="st">"Trump"</span>,</span>
<span id="cb164-351"><a href="#cb164-351" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> candidate_ballot_information))</span>
<span id="cb164-352"><a href="#cb164-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-353"><a href="#cb164-353" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb164-354"><a href="#cb164-354" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb164-355"><a href="#cb164-355" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(candidate_ballot_information, <span class="st">"Trump"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-356"><a href="#cb164-356" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span></span>
<span id="cb164-357"><a href="#cb164-357" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="st">"Number of Trump ads"</span>)</span>
<span id="cb164-358"><a href="#cb164-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-359"><a href="#cb164-359" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb164-360"><a href="#cb164-360" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(candidate_ballot_information, <span class="st">"Biden"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-361"><a href="#cb164-361" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span></span>
<span id="cb164-362"><a href="#cb164-362" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">col.names =</span> <span class="st">"Number of Biden ads"</span>)</span>
<span id="cb164-363"><a href="#cb164-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-364"><a href="#cb164-364" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-365"><a href="#cb164-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-366"><a href="#cb164-366" aria-hidden="true" tabindex="-1"></a>There are 1251 political advertisements supporting Biden's campaign and 483 political advertisements for Trump's campaign.</span>
<span id="cb164-367"><a href="#cb164-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-368"><a href="#cb164-368" aria-hidden="true" tabindex="-1"></a><span class="fu">## Analyzing and Visualizing the Data</span></span>
<span id="cb164-369"><a href="#cb164-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-370"><a href="#cb164-370" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ad Expenditure and Impression Analysis</span></span>
<span id="cb164-371"><a href="#cb164-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-372"><a href="#cb164-372" aria-hidden="true" tabindex="-1"></a>I want to determine whether there's a correlation between two variables I'm interested in: <span class="in">`spend`</span> and <span class="in">`impressions`</span>.</span>
<span id="cb164-373"><a href="#cb164-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-376"><a href="#cb164-376" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-377"><a href="#cb164-377" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: correlation between spend and impressions</span></span>
<span id="cb164-378"><a href="#cb164-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-379"><a href="#cb164-379" aria-hidden="true" tabindex="-1"></a>polads_cor <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span> </span>
<span id="cb164-380"><a href="#cb164-380" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(spend,impressions) <span class="sc">%&gt;%</span> </span>
<span id="cb164-381"><a href="#cb164-381" aria-hidden="true" tabindex="-1"></a>  <span class="fu">correlate</span>()</span>
<span id="cb164-382"><a href="#cb164-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-383"><a href="#cb164-383" aria-hidden="true" tabindex="-1"></a>polads_cor_plot <span class="ot">&lt;-</span> <span class="fu">rplot</span>(polads_cor) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Correlation between Ad Expenditure and Impressions Received</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb164-384"><a href="#cb164-384" aria-hidden="true" tabindex="-1"></a>polads_cor_plot</span>
<span id="cb164-385"><a href="#cb164-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-386"><a href="#cb164-386" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-387"><a href="#cb164-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-388"><a href="#cb164-388" aria-hidden="true" tabindex="-1"></a>This plot shows us that these two variables are moderately correlated with each other.</span>
<span id="cb164-389"><a href="#cb164-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-392"><a href="#cb164-392" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-393"><a href="#cb164-393" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: total ad expenditure and impressions</span></span>
<span id="cb164-394"><a href="#cb164-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-395"><a href="#cb164-395" aria-hidden="true" tabindex="-1"></a><span class="co"># total amount spent by both candidates' ads</span></span>
<span id="cb164-396"><a href="#cb164-396" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb164-397"><a href="#cb164-397" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(candidate_ballot_information, spend)<span class="sc">%&gt;%</span></span>
<span id="cb164-398"><a href="#cb164-398" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb164-399"><a href="#cb164-399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">spend_sum =</span> <span class="fu">sum</span>(spend)) <span class="sc">%&gt;%</span></span>
<span id="cb164-400"><a href="#cb164-400" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Total Snapchat Political Ad Expenditure (2020)"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Total Amount in USD"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-401"><a href="#cb164-401" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span>
<span id="cb164-402"><a href="#cb164-402" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-403"><a href="#cb164-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-404"><a href="#cb164-404" aria-hidden="true" tabindex="-1"></a>More funds were allocated to political ads supporting Biden on Snapchat (\$4,367,549) than Trump (\$613,733).</span>
<span id="cb164-405"><a href="#cb164-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-408"><a href="#cb164-408" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-409"><a href="#cb164-409" aria-hidden="true" tabindex="-1"></a><span class="co"># total impressions received by both candidates' ads</span></span>
<span id="cb164-410"><a href="#cb164-410" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb164-411"><a href="#cb164-411" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(candidate_ballot_information, impressions)<span class="sc">%&gt;%</span></span>
<span id="cb164-412"><a href="#cb164-412" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb164-413"><a href="#cb164-413" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">impressions_sum =</span> <span class="fu">sum</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb164-414"><a href="#cb164-414" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Total Snapchat Political Ad Impressions (2020)"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Total Impressions"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-415"><a href="#cb164-415" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span>
<span id="cb164-416"><a href="#cb164-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-417"><a href="#cb164-417" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-418"><a href="#cb164-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-419"><a href="#cb164-419" aria-hidden="true" tabindex="-1"></a>Ads supporting Biden received more impressions (804,943,566) than those supporting Trump (378,452,979).</span>
<span id="cb164-420"><a href="#cb164-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-423"><a href="#cb164-423" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-424"><a href="#cb164-424" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: highest expenditure on a single ad by candidate</span></span>
<span id="cb164-425"><a href="#cb164-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-426"><a href="#cb164-426" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb164-427"><a href="#cb164-427" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(candidate_ballot_information,spend,organization_name,paying_advertiser_name,impressions,start_date,end_date) <span class="sc">%&gt;%</span></span>
<span id="cb164-428"><a href="#cb164-428" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information) <span class="sc">%&gt;%</span> </span>
<span id="cb164-429"><a href="#cb164-429" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="fu">which.max</span>(spend)) <span class="sc">%&gt;%</span></span>
<span id="cb164-430"><a href="#cb164-430" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Highest Singular Ad Expenditure by Candidate"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Expenditure"</span>,<span class="st">"Organization Name"</span>,<span class="st">"Paying Advertiser Name"</span>,<span class="st">"Impressions"</span>,<span class="st">"Start Date"</span>,<span class="st">"End Date"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-431"><a href="#cb164-431" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span>
<span id="cb164-432"><a href="#cb164-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-433"><a href="#cb164-433" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-434"><a href="#cb164-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-435"><a href="#cb164-435" aria-hidden="true" tabindex="-1"></a>The highest funds allocated for a single political advertisement supporting Biden (and overall) was \$151,724, while the \$33,349 spent by Albbiom Marketing LLC was the most expensive political advertisement for Trump's campaign. The Biden advertisement was displayed almost all day on election day (11/03/2020) as indicated by its start and end date. Even though more funds was spent on the Biden advertisement, Trump's advertisement had more impressions (30,383,613).</span>
<span id="cb164-436"><a href="#cb164-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-439"><a href="#cb164-439" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-440"><a href="#cb164-440" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: highest impressions on a single ad by candidate</span></span>
<span id="cb164-441"><a href="#cb164-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-442"><a href="#cb164-442" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb164-443"><a href="#cb164-443" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(candidate_ballot_information,spend,organization_name,paying_advertiser_name,impressions,start_date,end_date) <span class="sc">%&gt;%</span></span>
<span id="cb164-444"><a href="#cb164-444" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information) <span class="sc">%&gt;%</span> </span>
<span id="cb164-445"><a href="#cb164-445" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="fu">which.max</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb164-446"><a href="#cb164-446" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Highest Singular Ad Impressions by Candidate (2020)"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Spend"</span>,<span class="st">"Organization Name"</span>,<span class="st">"Paying Advertiser Name"</span>,<span class="st">"Impressions"</span>,<span class="st">"Start Date"</span>,<span class="st">"End Date"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-447"><a href="#cb164-447" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span>
<span id="cb164-448"><a href="#cb164-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-449"><a href="#cb164-449" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-450"><a href="#cb164-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-451"><a href="#cb164-451" aria-hidden="true" tabindex="-1"></a>The highest number of impressions received for a singular ad supporting Biden was 17,927,667, while for Trump it was 31,848,256. The higher number of impressions for Trump's ad could be attributed to it not having a set end date.</span>
<span id="cb164-452"><a href="#cb164-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-453"><a href="#cb164-453" aria-hidden="true" tabindex="-1"></a>I'm interested in knowing the relative expenditure and impressions for advertisements by candidate as well. First, I want to extract the month from the <span class="in">`start_date`</span> and <span class="in">`end_date`</span> columns and use it to determine spending over the months.</span>
<span id="cb164-454"><a href="#cb164-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-457"><a href="#cb164-457" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-458"><a href="#cb164-458" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: creating new columns for months</span></span>
<span id="cb164-459"><a href="#cb164-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-460"><a href="#cb164-460" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-461"><a href="#cb164-461" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">start_month =</span> <span class="fu">month</span>(start_date,<span class="at">label =</span> <span class="cn">TRUE</span>),<span class="at">end_month =</span> <span class="fu">month</span>(end_date, <span class="at">label =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb164-462"><a href="#cb164-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-463"><a href="#cb164-463" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb164-464"><a href="#cb164-464" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(polads<span class="sc">$</span>start_month)</span>
<span id="cb164-465"><a href="#cb164-465" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(polads<span class="sc">$</span>end_month)</span>
<span id="cb164-466"><a href="#cb164-466" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-467"><a href="#cb164-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-468"><a href="#cb164-468" aria-hidden="true" tabindex="-1"></a>I'll need to take a log transformation because the values in the <span class="in">`spend`</span> column are skewed. I'm using a smooth plot to track expenditure and impressions over the months.</span>
<span id="cb164-469"><a href="#cb164-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-472"><a href="#cb164-472" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-473"><a href="#cb164-473" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: political ad expenditure by month</span></span>
<span id="cb164-474"><a href="#cb164-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-475"><a href="#cb164-475" aria-hidden="true" tabindex="-1"></a>exp_by_month_plot <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-476"><a href="#cb164-476" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>start_date, <span class="at">y=</span><span class="fu">log</span>(spend), <span class="at">group=</span>candidate_ballot_information, <span class="at">color=</span>candidate_ballot_information)) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Political Ad Expenditure per Month by Candidate (2020)"</span>, <span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Expenditure"</span>, <span class="at">colour =</span> <span class="st">"Candidate"</span>) <span class="sc">+</span> <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb164-477"><a href="#cb164-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-478"><a href="#cb164-478" aria-hidden="true" tabindex="-1"></a>exp_by_month_plot</span>
<span id="cb164-479"><a href="#cb164-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-480"><a href="#cb164-480" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-481"><a href="#cb164-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-482"><a href="#cb164-482" aria-hidden="true" tabindex="-1"></a>More funds were spent on political ads supporting Biden's campaign in the months leading up to election day, i.e. July to November. Ads for Trump's campaign received more funds in the first half of the year. It would be worthwhile to compare the impressions of advertisements for both candidates too:</span>
<span id="cb164-483"><a href="#cb164-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-486"><a href="#cb164-486" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-487"><a href="#cb164-487" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: political ad impressions by month</span></span>
<span id="cb164-488"><a href="#cb164-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-489"><a href="#cb164-489" aria-hidden="true" tabindex="-1"></a>imp_by_month_plot <span class="ot">&lt;-</span>polads <span class="sc">%&gt;%</span></span>
<span id="cb164-490"><a href="#cb164-490" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>start_date, <span class="at">y=</span><span class="fu">log</span>(impressions), <span class="at">group=</span>candidate_ballot_information, <span class="at">color=</span>candidate_ballot_information)) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Political Ad Impressions per Month by Candidate (2020)"</span>, <span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Impressions"</span>, <span class="at">colour =</span> <span class="st">"Candidate"</span>) <span class="sc">+</span> <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb164-491"><a href="#cb164-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-492"><a href="#cb164-492" aria-hidden="true" tabindex="-1"></a>imp_by_month_plot</span>
<span id="cb164-493"><a href="#cb164-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-494"><a href="#cb164-494" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-495"><a href="#cb164-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-496"><a href="#cb164-496" aria-hidden="true" tabindex="-1"></a>Advertisements supporting Trump's campaign seem to have reached more people than Biden's advertisements in the first half of the year. However, as noted before, impressions reached for advertisements for Biden's campaign were more prominent in the later months of the year.</span>
<span id="cb164-497"><a href="#cb164-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-498"><a href="#cb164-498" aria-hidden="true" tabindex="-1"></a>I want to know which ads had the longest and shortest duration by candidate, to see whether impressions vary greatly:</span>
<span id="cb164-499"><a href="#cb164-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-502"><a href="#cb164-502" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-503"><a href="#cb164-503" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: ad duration by candidate</span></span>
<span id="cb164-504"><a href="#cb164-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-505"><a href="#cb164-505" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb164-506"><a href="#cb164-506" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(candidate_ballot_information,organization_name,paying_advertiser_name,start_date,end_date,ad_duration,impressions)<span class="sc">%&gt;%</span></span>
<span id="cb164-507"><a href="#cb164-507" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb164-508"><a href="#cb164-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="fu">which.max</span>(ad_duration),<span class="fu">which.min</span>(ad_duration)) <span class="sc">%&gt;%</span></span>
<span id="cb164-509"><a href="#cb164-509" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Longest and Shortest Snapchat Political Ads by Candidate (2020)"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Candidate"</span>,<span class="st">"Organization Name"</span>,<span class="st">"Paying Advertiser Name"</span>,<span class="st">"Start Date"</span>,<span class="st">"End Date"</span>,<span class="st">"Ad Duration"</span>,<span class="st">"Impressions"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb164-510"><a href="#cb164-510" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_minimal</span>()</span>
<span id="cb164-511"><a href="#cb164-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-512"><a href="#cb164-512" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-513"><a href="#cb164-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-514"><a href="#cb164-514" aria-hidden="true" tabindex="-1"></a>The longest duration of an ad supporting Biden was more than 835 hours long and ran till election day. It's interesting that the ad with the shortest duration (29 hours) supporting this candidate received way more impressions than the longer one. This could be because the shorter ad was run on election day. On the other hand, the longest duration for Trump's ads was more than 1860 hours long, also running till the end of election day. The shortest ad (6.6 hours) for this candidate was displayed in June and received lesser impressions too.The paying advertiser's names indicate that these ads were probably issued directly from the respective candidates' campaigns and not by an outside entity (except for the shortest ad supporting Trump).</span>
<span id="cb164-515"><a href="#cb164-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-516"><a href="#cb164-516" aria-hidden="true" tabindex="-1"></a><span class="fu">### Location Targeting Analysis</span></span>
<span id="cb164-517"><a href="#cb164-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-518"><a href="#cb164-518" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Wrangling with the location columns</span></span>
<span id="cb164-519"><a href="#cb164-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-520"><a href="#cb164-520" aria-hidden="true" tabindex="-1"></a>The following columns indicate different types of information about the locations targeted by the advertisements: <span class="in">`regions_included`</span>, <span class="in">`regions_excluded`</span>, <span class="in">`electoral_districts_included`</span>, <span class="in">`radius_targeting_included`</span>, <span class="in">`radius_targeting_excluded`</span>, <span class="in">`metros_included`</span>, <span class="in">`metros_excluded`</span>, <span class="in">`postal_codes_included`</span>, <span class="in">`postal_codes_excluded`</span>. Most of these columns do not have enough values to be effectively analyzed, and due to a lack of time, the list column <span class="in">`postal_codes_included`</span> could not be included in my analysis.</span>
<span id="cb164-521"><a href="#cb164-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-522"><a href="#cb164-522" aria-hidden="true" tabindex="-1"></a>I'll be using the <span class="in">`regions_included`</span> and <span class="in">`regions_excluded`</span> columns. They have multiple states in each row which need to be separated into different rows:</span>
<span id="cb164-523"><a href="#cb164-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-526"><a href="#cb164-526" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-527"><a href="#cb164-527" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tidying `regions_included` and `regions_excluded`</span></span>
<span id="cb164-528"><a href="#cb164-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-529"><a href="#cb164-529" aria-hidden="true" tabindex="-1"></a><span class="co"># regions_included</span></span>
<span id="cb164-530"><a href="#cb164-530" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-531"><a href="#cb164-531" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(regions_included, <span class="at">sep =</span> <span class="st">","</span>)</span>
<span id="cb164-532"><a href="#cb164-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-533"><a href="#cb164-533" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb164-534"><a href="#cb164-534" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(polads<span class="sc">$</span>regions_included)</span>
<span id="cb164-535"><a href="#cb164-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-536"><a href="#cb164-536" aria-hidden="true" tabindex="-1"></a><span class="co"># `regions_excluded`</span></span>
<span id="cb164-537"><a href="#cb164-537" aria-hidden="true" tabindex="-1"></a>polads <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-538"><a href="#cb164-538" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(regions_excluded, <span class="at">sep =</span> <span class="st">","</span>)</span>
<span id="cb164-539"><a href="#cb164-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-540"><a href="#cb164-540" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check</span></span>
<span id="cb164-541"><a href="#cb164-541" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(polads<span class="sc">$</span>regions_excluded)</span>
<span id="cb164-542"><a href="#cb164-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-543"><a href="#cb164-543" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-544"><a href="#cb164-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-545"><a href="#cb164-545" aria-hidden="true" tabindex="-1"></a>The states of Alaska, Hawaii, and California were excluded from being shown certain political advertisements of the candidates. This could be either due to the stringent laws these states have for reporting campaign contributions and expenditure activities or historic voting patterns ("Campaign Disclosure, Filer Resources, Alaska Public Offices Commission, Department of Administration, State of Alaska", n.d.;"Contribution Limits", n.d.;Electronic Media Advertisements, 2020).</span>
<span id="cb164-546"><a href="#cb164-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-547"><a href="#cb164-547" aria-hidden="true" tabindex="-1"></a>Checking whether information on <span class="in">`organization_name`</span> and <span class="in">`paying_advertiser_name`</span> is available for those advertisements excluding these states:</span>
<span id="cb164-548"><a href="#cb164-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-551"><a href="#cb164-551" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-552"><a href="#cb164-552" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: information on ads excluding certain states</span></span>
<span id="cb164-553"><a href="#cb164-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-554"><a href="#cb164-554" aria-hidden="true" tabindex="-1"></a>polads <span class="sc">%&gt;%</span></span>
<span id="cb164-555"><a href="#cb164-555" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(organization_name,paying_advertiser_name,spend,candidate_ballot_information,regions_excluded) <span class="sc">%&gt;%</span></span>
<span id="cb164-556"><a href="#cb164-556" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(regions_excluded, <span class="st">'California|Hawaii|Alaska'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-557"><a href="#cb164-557" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span>
<span id="cb164-558"><a href="#cb164-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-559"><a href="#cb164-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-560"><a href="#cb164-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-561"><a href="#cb164-561" aria-hidden="true" tabindex="-1"></a>All of the ads that excluded these regions supported Donald Trump as a candidate, were by an organization called 'Marud Khan', and were paid for by Albbiom Marketing LLC. According to Markay (2020), Albbiom Marketing LLC is a marketing company without a proper address that provides "free" Trump merchandise and has scammed people in the past. They also found no evidence that 'Marud Khan' was a real person.</span>
<span id="cb164-562"><a href="#cb164-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-563"><a href="#cb164-563" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Creating a data subset for location analysis</span></span>
<span id="cb164-564"><a href="#cb164-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-565"><a href="#cb164-565" aria-hidden="true" tabindex="-1"></a>Checking the distribution of values in the <span class="in">`spend`</span> and <span class="in">`impressions`</span> columns:</span>
<span id="cb164-566"><a href="#cb164-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-569"><a href="#cb164-569" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-570"><a href="#cb164-570" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: distribution of spend and impressions</span></span>
<span id="cb164-571"><a href="#cb164-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-572"><a href="#cb164-572" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(polads, <span class="fu">aes</span>(<span class="at">x=</span>spend)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Expenditure Distribution"</span>, <span class="at">x =</span> <span class="st">"Expenditure"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>)</span>
<span id="cb164-573"><a href="#cb164-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-574"><a href="#cb164-574" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(polads, <span class="fu">aes</span>(<span class="at">x=</span>impressions)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Impressions Distribution"</span>, <span class="at">x =</span> <span class="st">"Impressions"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>)</span>
<span id="cb164-575"><a href="#cb164-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-576"><a href="#cb164-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-577"><a href="#cb164-577" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-578"><a href="#cb164-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-579"><a href="#cb164-579" aria-hidden="true" tabindex="-1"></a>Clearly, both distributions are skewed to the right and are not symmetric. Hence, I'm taking the median of these columns for analysis. Creating a subset of the data for further analysis:</span>
<span id="cb164-580"><a href="#cb164-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-583"><a href="#cb164-583" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-584"><a href="#cb164-584" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: creating subset for location analysis</span></span>
<span id="cb164-585"><a href="#cb164-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-586"><a href="#cb164-586" aria-hidden="true" tabindex="-1"></a>polads_loc1 <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-587"><a href="#cb164-587" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(regions_included,spend,impressions,candidate_ballot_information) <span class="sc">%&gt;%</span></span>
<span id="cb164-588"><a href="#cb164-588" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(regions_included) <span class="sc">%&gt;%</span></span>
<span id="cb164-589"><a href="#cb164-589" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(regions_included,candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb164-590"><a href="#cb164-590" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">spend_median =</span> <span class="fu">median</span>(spend),<span class="at">impressions_median =</span> <span class="fu">median</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb164-591"><a href="#cb164-591" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state=</span>regions_included)</span>
<span id="cb164-592"><a href="#cb164-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-593"><a href="#cb164-593" aria-hidden="true" tabindex="-1"></a>polads_loc1</span>
<span id="cb164-594"><a href="#cb164-594" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-595"><a href="#cb164-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-596"><a href="#cb164-596" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Ad expenditure across states</span></span>
<span id="cb164-597"><a href="#cb164-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-600"><a href="#cb164-600" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-601"><a href="#cb164-601" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: plotting expenditure across states</span></span>
<span id="cb164-602"><a href="#cb164-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-603"><a href="#cb164-603" aria-hidden="true" tabindex="-1"></a>loc_spend_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1, <span class="at">values =</span> <span class="st">"spend_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Expenditure"</span>) <span class="sc">+</span></span>
<span id="cb164-604"><a href="#cb164-604" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Expenditure Across the States"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb164-605"><a href="#cb164-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-606"><a href="#cb164-606" aria-hidden="true" tabindex="-1"></a>loc_spend_plot</span>
<span id="cb164-607"><a href="#cb164-607" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-608"><a href="#cb164-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-609"><a href="#cb164-609" aria-hidden="true" tabindex="-1"></a>From this plot, we can observe that ads targeting Pennsylvania and Nebraska had relatively higher median expenditure. Now, let's look at median ad expenditure across states by the candidate they supported.</span>
<span id="cb164-610"><a href="#cb164-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-613"><a href="#cb164-613" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-614"><a href="#cb164-614" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: median ad expenditure across states by candidate</span></span>
<span id="cb164-615"><a href="#cb164-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-616"><a href="#cb164-616" aria-hidden="true" tabindex="-1"></a><span class="co"># Biden ads</span></span>
<span id="cb164-617"><a href="#cb164-617" aria-hidden="true" tabindex="-1"></a>polads_loc1_biden <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-618"><a href="#cb164-618" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(regions_included,spend,impressions,candidate_ballot_information) <span class="sc">%&gt;%</span></span>
<span id="cb164-619"><a href="#cb164-619" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(candidate_ballot_information<span class="sc">==</span><span class="st">"Biden"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb164-620"><a href="#cb164-620" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(regions_included) <span class="sc">%&gt;%</span></span>
<span id="cb164-621"><a href="#cb164-621" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(regions_included,candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb164-622"><a href="#cb164-622" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">spend_median =</span> <span class="fu">median</span>(spend),<span class="at">impressions_median =</span> <span class="fu">median</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb164-623"><a href="#cb164-623" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state=</span>regions_included)</span>
<span id="cb164-624"><a href="#cb164-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-625"><a href="#cb164-625" aria-hidden="true" tabindex="-1"></a>polads_loc1_biden</span>
<span id="cb164-626"><a href="#cb164-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-627"><a href="#cb164-627" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting expenditure for Biden ads</span></span>
<span id="cb164-628"><a href="#cb164-628" aria-hidden="true" tabindex="-1"></a>loc_spend_biden_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1_biden, <span class="at">values =</span> <span class="st">"spend_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Expenditure"</span>) <span class="sc">+</span></span>
<span id="cb164-629"><a href="#cb164-629" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Expenditure for Biden Across the States (2020)"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb164-630"><a href="#cb164-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-631"><a href="#cb164-631" aria-hidden="true" tabindex="-1"></a><span class="co"># Trump ads</span></span>
<span id="cb164-632"><a href="#cb164-632" aria-hidden="true" tabindex="-1"></a>polads_loc1_trump <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-633"><a href="#cb164-633" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(regions_included,spend,impressions,candidate_ballot_information) <span class="sc">%&gt;%</span></span>
<span id="cb164-634"><a href="#cb164-634" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(candidate_ballot_information<span class="sc">==</span><span class="st">"Trump"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb164-635"><a href="#cb164-635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(regions_included) <span class="sc">%&gt;%</span></span>
<span id="cb164-636"><a href="#cb164-636" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(regions_included,candidate_ballot_information)<span class="sc">%&gt;%</span></span>
<span id="cb164-637"><a href="#cb164-637" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">spend_median =</span> <span class="fu">median</span>(spend),<span class="at">impressions_median =</span> <span class="fu">median</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb164-638"><a href="#cb164-638" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state=</span>regions_included)</span>
<span id="cb164-639"><a href="#cb164-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-640"><a href="#cb164-640" aria-hidden="true" tabindex="-1"></a>polads_loc1_trump</span>
<span id="cb164-641"><a href="#cb164-641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-642"><a href="#cb164-642" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting expenditure for Trump ads</span></span>
<span id="cb164-643"><a href="#cb164-643" aria-hidden="true" tabindex="-1"></a>loc_spend_trump_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1_trump, <span class="at">values =</span> <span class="st">"spend_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Expenditure"</span>) <span class="sc">+</span></span>
<span id="cb164-644"><a href="#cb164-644" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Expenditure for Trump Across the States (2020)"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb164-645"><a href="#cb164-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-646"><a href="#cb164-646" aria-hidden="true" tabindex="-1"></a><span class="co"># comparing plots</span></span>
<span id="cb164-647"><a href="#cb164-647" aria-hidden="true" tabindex="-1"></a>loc_spend_biden_plot</span>
<span id="cb164-648"><a href="#cb164-648" aria-hidden="true" tabindex="-1"></a>loc_spend_trump_plot</span>
<span id="cb164-649"><a href="#cb164-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-650"><a href="#cb164-650" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-651"><a href="#cb164-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-652"><a href="#cb164-652" aria-hidden="true" tabindex="-1"></a>For Biden's ads, the median expenditure was highest in Pennsylvania and Nebraska. For Trump's, it was highest in Texas, Mississippi, and South Carolina. While Trump explicitly targeted all states, Biden's ads were limited to particular states.</span>
<span id="cb164-653"><a href="#cb164-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-654"><a href="#cb164-654" aria-hidden="true" tabindex="-1"></a>Next, I'm looking at how ad expenditure across targeted states changes over the months:</span>
<span id="cb164-655"><a href="#cb164-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-658"><a href="#cb164-658" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-659"><a href="#cb164-659" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb164-660"><a href="#cb164-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-661"><a href="#cb164-661" aria-hidden="true" tabindex="-1"></a>polads_loc_month1 <span class="ot">&lt;-</span> polads <span class="sc">%&gt;%</span></span>
<span id="cb164-662"><a href="#cb164-662" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(regions_included,spend,impressions,candidate_ballot_information,start_month) <span class="sc">%&gt;%</span></span>
<span id="cb164-663"><a href="#cb164-663" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(regions_included) <span class="sc">%&gt;%</span></span>
<span id="cb164-664"><a href="#cb164-664" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(regions_included,candidate_ballot_information,start_month)<span class="sc">%&gt;%</span></span>
<span id="cb164-665"><a href="#cb164-665" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">spend_median =</span> <span class="fu">median</span>(spend),<span class="at">impressions_median =</span> <span class="fu">median</span>(impressions)) <span class="sc">%&gt;%</span></span>
<span id="cb164-666"><a href="#cb164-666" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state=</span>regions_included)</span>
<span id="cb164-667"><a href="#cb164-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-668"><a href="#cb164-668" aria-hidden="true" tabindex="-1"></a>polads_loc_month1</span>
<span id="cb164-669"><a href="#cb164-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-670"><a href="#cb164-670" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting expenditure</span></span>
<span id="cb164-671"><a href="#cb164-671" aria-hidden="true" tabindex="-1"></a>loc_spend_month_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc_month1, <span class="at">values =</span> <span class="st">"spend_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>,<span class="at">label_color =</span> <span class="st">"black"</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Ad Expenditure Amount by Month"</span>) <span class="sc">+</span></span>
<span id="cb164-672"><a href="#cb164-672" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Expenditure Across the States"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb164-673"><a href="#cb164-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-674"><a href="#cb164-674" aria-hidden="true" tabindex="-1"></a>loc_spend_month_plot</span>
<span id="cb164-675"><a href="#cb164-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-676"><a href="#cb164-676" aria-hidden="true" tabindex="-1"></a><span class="co"># animating change in median expenditure by month</span></span>
<span id="cb164-677"><a href="#cb164-677" aria-hidden="true" tabindex="-1"></a>loc_spend_month_transition <span class="ot">&lt;-</span> loc_spend_month_plot <span class="sc">+</span></span>
<span id="cb164-678"><a href="#cb164-678" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Political Ad Expenditure in {as.numeric(frame_time)}"</span>) <span class="sc">+</span> <span class="fu">transition_time</span>(<span class="fu">as.numeric</span>(start_month))</span>
<span id="cb164-679"><a href="#cb164-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-680"><a href="#cb164-680" aria-hidden="true" tabindex="-1"></a>loc_spend_anim <span class="ot">&lt;-</span> <span class="fu">animate</span>(loc_spend_month_transition, <span class="at">fps=</span><span class="dv">10</span>) <span class="sc">+</span> <span class="fu">ease_aes</span>(<span class="st">'linear'</span>)</span>
<span id="cb164-681"><a href="#cb164-681" aria-hidden="true" tabindex="-1"></a>loc_spend_anim</span>
<span id="cb164-682"><a href="#cb164-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-683"><a href="#cb164-683" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-684"><a href="#cb164-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-685"><a href="#cb164-685" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb164-686"><a href="#cb164-686" aria-hidden="true" tabindex="-1"></a>I couldn't get the above block of code to display any output even though it ran perfectly fine on my RStudio.</span>
<span id="cb164-687"><a href="#cb164-687" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb164-688"><a href="#cb164-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-689"><a href="#cb164-689" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Ad impressions across states</span></span>
<span id="cb164-690"><a href="#cb164-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-693"><a href="#cb164-693" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-694"><a href="#cb164-694" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: plotting impressions across states</span></span>
<span id="cb164-695"><a href="#cb164-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-696"><a href="#cb164-696" aria-hidden="true" tabindex="-1"></a>loc_imp_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1, <span class="at">values =</span> <span class="st">"impressions_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Impressions"</span>) <span class="sc">+</span></span>
<span id="cb164-697"><a href="#cb164-697" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Impressions Across the States (2020)"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb164-698"><a href="#cb164-698" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-699"><a href="#cb164-699" aria-hidden="true" tabindex="-1"></a>loc_imp_plot</span>
<span id="cb164-700"><a href="#cb164-700" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-701"><a href="#cb164-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-702"><a href="#cb164-702" aria-hidden="true" tabindex="-1"></a>Overall, Mississippi and South Carolina had the highest median ad impressions.</span>
<span id="cb164-703"><a href="#cb164-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-704"><a href="#cb164-704" aria-hidden="true" tabindex="-1"></a>Now, looking at the median ad impressions across states by the candidate they supported.</span>
<span id="cb164-705"><a href="#cb164-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-708"><a href="#cb164-708" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-709"><a href="#cb164-709" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: median ad impressions across states by candidate</span></span>
<span id="cb164-710"><a href="#cb164-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-711"><a href="#cb164-711" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting impressions for Biden ads</span></span>
<span id="cb164-712"><a href="#cb164-712" aria-hidden="true" tabindex="-1"></a>loc_imp_biden_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1_biden, <span class="at">values =</span> <span class="st">"impressions_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Impressions"</span>) <span class="sc">+</span></span>
<span id="cb164-713"><a href="#cb164-713" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Impressions for Biden Across the States (2020)"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb164-714"><a href="#cb164-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-715"><a href="#cb164-715" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting impressions for Trump ads</span></span>
<span id="cb164-716"><a href="#cb164-716" aria-hidden="true" tabindex="-1"></a>loc_imp_trump_plot <span class="ot">&lt;-</span> <span class="fu">plot_usmap</span>(<span class="at">data =</span> polads_loc1_trump, <span class="at">values =</span> <span class="st">"impressions_median"</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Median Ad Impressions"</span>) <span class="sc">+</span></span>
<span id="cb164-717"><a href="#cb164-717" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Snapchat Targeted Political Ad Impressions for Trump Across the States (2020)"</span>,<span class="at">caption =</span> <span class="st">"Note: This plot excludes ads targetting no states in particular"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb164-718"><a href="#cb164-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-719"><a href="#cb164-719" aria-hidden="true" tabindex="-1"></a><span class="co"># comparing plots</span></span>
<span id="cb164-720"><a href="#cb164-720" aria-hidden="true" tabindex="-1"></a>loc_imp_biden_plot</span>
<span id="cb164-721"><a href="#cb164-721" aria-hidden="true" tabindex="-1"></a>loc_imp_trump_plot</span>
<span id="cb164-722"><a href="#cb164-722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-723"><a href="#cb164-723" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-724"><a href="#cb164-724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-725"><a href="#cb164-725" aria-hidden="true" tabindex="-1"></a>In a similar trend to median expenditure, Biden's ads got their highest median impressions in Nebraska and Pennsylvania, while median impressions for Trump's ads were highest in Texas, Mississippi, and South Carolina.</span>
<span id="cb164-726"><a href="#cb164-726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-727"><a href="#cb164-727" aria-hidden="true" tabindex="-1"></a>Conducting a sanity check with the data:</span>
<span id="cb164-728"><a href="#cb164-728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-731"><a href="#cb164-731" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb164-732"><a href="#cb164-732" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: sanity check</span></span>
<span id="cb164-733"><a href="#cb164-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-734"><a href="#cb164-734" aria-hidden="true" tabindex="-1"></a><span class="co"># checking highest median expenditure by candidate</span></span>
<span id="cb164-735"><a href="#cb164-735" aria-hidden="true" tabindex="-1"></a>polads_loc1<span class="sc">%&gt;%</span></span>
<span id="cb164-736"><a href="#cb164-736" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state,candidate_ballot_information,spend_median) <span class="sc">%&gt;%</span></span>
<span id="cb164-737"><a href="#cb164-737" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information) <span class="sc">%&gt;%</span></span>
<span id="cb164-738"><a href="#cb164-738" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(spend_median)) <span class="sc">%&gt;%</span></span>
<span id="cb164-739"><a href="#cb164-739" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb164-740"><a href="#cb164-740" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Highest Median Ad Expenditure by State and Candidate (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"State"</span>,<span class="st">"Candidate"</span>,<span class="st">"Median Expenditure"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb164-741"><a href="#cb164-741" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_minimal</span>()</span>
<span id="cb164-742"><a href="#cb164-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-743"><a href="#cb164-743" aria-hidden="true" tabindex="-1"></a><span class="co"># checking highest median impressions by candidate</span></span>
<span id="cb164-744"><a href="#cb164-744" aria-hidden="true" tabindex="-1"></a>polads_loc1<span class="sc">%&gt;%</span></span>
<span id="cb164-745"><a href="#cb164-745" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state,candidate_ballot_information,impressions_median) <span class="sc">%&gt;%</span></span>
<span id="cb164-746"><a href="#cb164-746" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(candidate_ballot_information) <span class="sc">%&gt;%</span></span>
<span id="cb164-747"><a href="#cb164-747" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(impressions_median)) <span class="sc">%&gt;%</span></span>
<span id="cb164-748"><a href="#cb164-748" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb164-749"><a href="#cb164-749" aria-hidden="true" tabindex="-1"></a>    knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Highest Median Ad Impressions by State and Candidate (2020)"</span>,<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"State"</span>,<span class="st">"Candidate"</span>,<span class="st">"Median Expenditure"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb164-750"><a href="#cb164-750" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_minimal</span>()</span>
<span id="cb164-751"><a href="#cb164-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-752"><a href="#cb164-752" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb164-753"><a href="#cb164-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-754"><a href="#cb164-754" aria-hidden="true" tabindex="-1"></a><span class="fu">## Reflections</span></span>
<span id="cb164-755"><a href="#cb164-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-756"><a href="#cb164-756" aria-hidden="true" tabindex="-1"></a>In 2020, the United States made far more use of the Snapchat social media platform for political ads compared to other countries. The above analysis showcased the reach and funding of advertisements supporting the candidates Joe Biden and Donald Trump prior to and during the 2020 presidential election season. The variables that I focused on - ad expenditure, ad impressions, location micro-targeting, and even ad duration - all contribute to forming an effective political advertising strategy. It is important to note that there were more ads that supported Biden in this dataset, which may have skewed the results summarized below.</span>
<span id="cb164-757"><a href="#cb164-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-758"><a href="#cb164-758" aria-hidden="true" tabindex="-1"></a>The data revealed a close correlation between the amount of expenditure on ads and the impressions they received. Ads supporting Biden had more funds allocated to them and also received more impressions. This may have played a part in his election victory. Biden's ads were more frequent in the second half of 2020, while it was the opposite trend for Trump's ads. The timing of the ad also matters. A shorter ad supporting Biden displayed on election day received more impressions that the one running for more than 800 hours from September 2020. From the location visualizations, it seems that candidates were targeting states that were predominantly Democratic or Republican in order to either win them over or maintain their party dominance.</span>
<span id="cb164-759"><a href="#cb164-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-760"><a href="#cb164-760" aria-hidden="true" tabindex="-1"></a>In terms of the data used, I wish I looked at how sparse the data were in columns like <span class="in">`advanced_demographics`</span> and <span class="in">`radius_targeting_included`</span> before beginning because I was really looking forward to using it in my analysis. Another caveat of this data was that since there were multiple regions in a single entry of the <span class="in">`regions_included`</span> column, it became hard to find out the individual ad expenditure and impressions for each state.</span>
<span id="cb164-761"><a href="#cb164-761" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-762"><a href="#cb164-762" aria-hidden="true" tabindex="-1"></a>Nevertheless, I enjoyed the process of completing this project. Though I can still improve, I learnt a lot about coding in R - from writing tidy code to creating publication-worthy plots. At the same time, I think I got a bit overwhelmed with everything that can be done in R since I kept going down an online rabbit hole of endless packages and techniques. Also, I learnt not to underestimate the importance of the data cleaning process; I spent a lot more time on that than actually analyzing the data.</span>
<span id="cb164-763"><a href="#cb164-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-764"><a href="#cb164-764" aria-hidden="true" tabindex="-1"></a><span class="fu">## Future Directions</span></span>
<span id="cb164-765"><a href="#cb164-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-766"><a href="#cb164-766" aria-hidden="true" tabindex="-1"></a>Further analysis can be done with this dataset. One could determine the type of entity paying for the ads for both candidates (whether it was funded by their own campaign or an outside organization), and the highest paying advertisers. I wanted to do more with the <span class="in">`ad_duration`</span> column I'd created, but I found working with the difftime object more difficult than expected. Plots showing change in expenditure and impressions by state over time could also be generated. More analysis can be conducted with the postal codes data provided in this dataset to map more specific regions that the ads were targeting. Lastly, future projects could join data on individual state populations and analyze expenditure and impressions in relation to that.</span>
<span id="cb164-767"><a href="#cb164-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-768"><a href="#cb164-768" aria-hidden="true" tabindex="-1"></a><span class="fu">## References</span></span>
<span id="cb164-769"><a href="#cb164-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-770"><a href="#cb164-770" aria-hidden="true" tabindex="-1"></a>::: {#refs}</span>
<span id="cb164-771"><a href="#cb164-771" aria-hidden="true" tabindex="-1"></a>California Fair Political Practices Commission. (2020). *Electronic Media Advertisements* <span class="sc">\[</span>PDF<span class="sc">\]</span>. Retrieved 3 September 2022, from <span class="ot">&lt;https://www.fppc.ca.gov/content/dam/fppc/NS-Documents/AgendaDocuments/Task-Force/dttf-2020/march-2020/Legal.pdf&gt;</span>.</span>
<span id="cb164-772"><a href="#cb164-772" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-773"><a href="#cb164-773" aria-hidden="true" tabindex="-1"></a>*Campaign Disclosure, Filer Resources, Alaska Public Offices Commission, Department of Administration, State of Alaska*. Alaska Department of Administration. Retrieved 3 September 2022, from <span class="ot">&lt;https://doa.alaska.gov/apoc/FilerResources/campaignDisclosure.html&gt;</span>.</span>
<span id="cb164-774"><a href="#cb164-774" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-775"><a href="#cb164-775" aria-hidden="true" tabindex="-1"></a>*Contribution Limits*. Campaign Spending Commission. Retrieved 3 September 2022, from <span class="ot">&lt;https://ags.hawaii.gov/campaign/contribution-limits/&gt;</span>.</span>
<span id="cb164-776"><a href="#cb164-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-777"><a href="#cb164-777" aria-hidden="true" tabindex="-1"></a>Grolemund, G., &amp; Wickham, H. (2016). *R for Data Science: Import, Tidy, Transform, Visualize, and Model Data*. O'Reilly Media.</span>
<span id="cb164-778"><a href="#cb164-778" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-779"><a href="#cb164-779" aria-hidden="true" tabindex="-1"></a>*Lookalike Audiences*. Business Help Center - Snapchat. Retrieved 3 September 2022, from <span class="ot">&lt;https://businesshelp.snapchat.com/s/article/create-lookalike-audience?language=en_US&gt;</span>.</span>
<span id="cb164-780"><a href="#cb164-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-781"><a href="#cb164-781" aria-hidden="true" tabindex="-1"></a>Markay, L. (2020). *The Trump-Scam-Industrial-Complex Now Extends to Snapchat. Daily Beast*. Retrieved 2 September 2022, from <span class="ot">&lt;https://www.thedailybeast.com/the-trump-scam-industrial-complex-now-extends-to-snapchat?ref=scroll&gt;</span>.</span>
<span id="cb164-782"><a href="#cb164-782" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-783"><a href="#cb164-783" aria-hidden="true" tabindex="-1"></a>R Core Team. (2020). *R: A language and environment for statistical computing*. R Foundation for Statistical Computing, Vienna, Austria.<span class="ot">&lt;https://www.r-project.org&gt;</span>.</span>
<span id="cb164-784"><a href="#cb164-784" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-785"><a href="#cb164-785" aria-hidden="true" tabindex="-1"></a>Rodriguez, S. (2020). *Snap stock rockets up after surprise earnings beat*. CNBC. Retrieved 3 September 2022, from <span class="ot">&lt;https://www.cnbc.com/2020/10/20/snap-earnings-q3-2020.html&gt;</span>.</span>
<span id="cb164-786"><a href="#cb164-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-787"><a href="#cb164-787" aria-hidden="true" tabindex="-1"></a>RStudio Team. (2019). *RStudio: Integrated Development for R*. RStudio, Inc., Boston, MA. <span class="ot">&lt;https://www.rstudio.com&gt;</span>.</span>
<span id="cb164-788"><a href="#cb164-788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-789"><a href="#cb164-789" aria-hidden="true" tabindex="-1"></a>*Snap Audience Match Terms*. Snap Inc. Retrieved 3 September 2022, from <span class="ot">&lt;https://snap.com/en-US/terms/snap-audience-match&gt;</span>.</span>
<span id="cb164-790"><a href="#cb164-790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-791"><a href="#cb164-791" aria-hidden="true" tabindex="-1"></a>*Snapchat statistics 2020*. (2020). Smart Insights. Retrieved 4 September 2022, from <span class="ot">&lt;https://www.smartinsights.com/social-media-marketing/social-media-strategy/snapchat-statistics/&gt;</span>.</span>
<span id="cb164-792"><a href="#cb164-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-793"><a href="#cb164-793" aria-hidden="true" tabindex="-1"></a>Snap Inc. (n.d.). *PoliticalAds* <span class="sc">\[</span>Data set<span class="sc">\]</span>. <span class="ot">&lt;https://snap.com/en-US/political-ads&gt;</span>.</span>
<span id="cb164-794"><a href="#cb164-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-795"><a href="#cb164-795" aria-hidden="true" tabindex="-1"></a>Tomasi, R. (2021). *Quick guide on social media advertising for campaigns and public institutions*. The European Campaign Playbook. Retrieved 2 September 2022, from <span class="ot">&lt;https://www.campaignplaybook.eu/blog_quick_guide_on_social_media_advertising&gt;</span>.</span>
<span id="cb164-796"><a href="#cb164-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-797"><a href="#cb164-797" aria-hidden="true" tabindex="-1"></a>*What is Micro-Targeting &amp; How Does it Affect Advertising* (n.d.). MNI Targeted Media. Retrieved 4 September 2022, from <span class="ot">&lt;https://www.mni.com/blog/advertmarket/what-is-micro-targeting-how-does-it-affect-advertising/&gt;</span>.</span>
<span id="cb164-798"><a href="#cb164-798" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb164-799"><a href="#cb164-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-800"><a href="#cb164-800" aria-hidden="true" tabindex="-1"></a><span class="fu">## Appendix</span></span>
<span id="cb164-801"><a href="#cb164-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-802"><a href="#cb164-802" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dataframe variable names and descriptions</span></span>
<span id="cb164-803"><a href="#cb164-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-804"><a href="#cb164-804" aria-hidden="true" tabindex="-1"></a>| **Variable Name**                | **Description**                                                                                                                                                                    |</span>
<span id="cb164-805"><a href="#cb164-805" aria-hidden="true" tabindex="-1"></a>|------------------------------------|------------------------------------|</span>
<span id="cb164-806"><a href="#cb164-806" aria-hidden="true" tabindex="-1"></a>| <span class="in">`ADID`</span>                           | A unique value for each political advertisement.                                                                                                                                   |</span>
<span id="cb164-807"><a href="#cb164-807" aria-hidden="true" tabindex="-1"></a>| <span class="in">`CreativeURL`</span>                    | A URL to the advertisement's creative content.                                                                                                                                     |</span>
<span id="cb164-808"><a href="#cb164-808" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Currency Code`</span>                  | The currency used by the account creating the advertisement.                                                                                                                       |</span>
<span id="cb164-809"><a href="#cb164-809" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Spend`</span>                          | The amount spent by the advertiser for the ad campaign expressed in local currency.                                                                                                |</span>
<span id="cb164-810"><a href="#cb164-810" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Impressions`</span>                    | The number of times the advertisement has been viewed by Snapchat users.                                                                                                           |</span>
<span id="cb164-811"><a href="#cb164-811" aria-hidden="true" tabindex="-1"></a>| <span class="in">`StartDate`</span>                      | The time at which the advertisement was set to start running on the platform.                                                                                                      |</span>
<span id="cb164-812"><a href="#cb164-812" aria-hidden="true" tabindex="-1"></a>| <span class="in">`EndDate`</span>                        | The time at which the advertisement was set to stop running on the platform.                                                                                                       |</span>
<span id="cb164-813"><a href="#cb164-813" aria-hidden="true" tabindex="-1"></a>| <span class="in">`OrganizationName`</span>               | The organization that is responsible for creating the advertisement.                                                                                                               |</span>
<span id="cb164-814"><a href="#cb164-814" aria-hidden="true" tabindex="-1"></a>| <span class="in">`BillingAddress`</span>                 | The address of the organization that is responsible for creating the advertisement.                                                                                                |</span>
<span id="cb164-815"><a href="#cb164-815" aria-hidden="true" tabindex="-1"></a>| <span class="in">`CandidateBallotInformation`</span>     | Information on the candidate (for California elections: also the office they are contesting for) or ballot initiative that the advertisement is associated with the advertisement. |</span>
<span id="cb164-816"><a href="#cb164-816" aria-hidden="true" tabindex="-1"></a>| <span class="in">`PayingAdvertiserName`</span>           | The entity that is providing funds for the advertisement.                                                                                                                          |</span>
<span id="cb164-817"><a href="#cb164-817" aria-hidden="true" tabindex="-1"></a>| <span class="in">`CommitteeName`</span>                  | The name of the committee paying for the advertisement.                                                                                                                            |</span>
<span id="cb164-818"><a href="#cb164-818" aria-hidden="true" tabindex="-1"></a>| <span class="in">`CommitteeIdentificationNumber`</span>  | The identification number of the committee paying for the advertisement.                                                                                                           |</span>
<span id="cb164-819"><a href="#cb164-819" aria-hidden="true" tabindex="-1"></a>| <span class="in">`DisclosureNameOfCommittee`</span>      | The disclosure name of the committee paying for the advertisement, as stipulated by California law.                                                                                |</span>
<span id="cb164-820"><a href="#cb164-820" aria-hidden="true" tabindex="-1"></a>| <span class="in">`AdvertisingJurisdiction`</span>        | The jurisdiction that the advertisement refers to.                                                                                                                                 |</span>
<span id="cb164-821"><a href="#cb164-821" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Gender`</span>                         | The genders targeted by the advertisement. If this field is empty, all genders were targeted.                                                                                      |</span>
<span id="cb164-822"><a href="#cb164-822" aria-hidden="true" tabindex="-1"></a>| <span class="in">`AgeBracket`</span>                     | The ages targeted by the advertisement. If this field is empty, all ages were targeted.                                                                                            |</span>
<span id="cb164-823"><a href="#cb164-823" aria-hidden="true" tabindex="-1"></a>| <span class="in">`CountryCode`</span>                    | The country that the advertisement is targeting.                                                                                                                                   |</span>
<span id="cb164-824"><a href="#cb164-824" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Regions (Included)`</span>             | The region(s) included in the advertisement's targeting criteria (states or provinces).                                                                                            |</span>
<span id="cb164-825"><a href="#cb164-825" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Regions (Excluded)`</span>             | The region(s) excluded in the advertisement's targeting criteria (states or provinces).                                                                                            |</span>
<span id="cb164-826"><a href="#cb164-826" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Electoral Districts (Included)`</span> | The electoral district(s) included in the advertisement's targeting criteria.                                                                                                      |</span>
<span id="cb164-827"><a href="#cb164-827" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Electoral Districts (Excluded)`</span> | The electoral district(s) excluded in the advertisement's targeting criteria.                                                                                                      |</span>
<span id="cb164-828"><a href="#cb164-828" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Radius Targeting (Included)`</span>    | The point-radius circles included in the advertisement's targeting criteria.                                                                                                       |</span>
<span id="cb164-829"><a href="#cb164-829" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Radius Targeting (Excluded)`</span>    | The point-radius circles excluded in the advertisement's targeting criteria.                                                                                                       |</span>
<span id="cb164-830"><a href="#cb164-830" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Metros (Included)`</span>              | The metro(s) included in the advertisement's targeting criteria.                                                                                                                   |</span>
<span id="cb164-831"><a href="#cb164-831" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Metros (Excluded)`</span>              | The metro(s) excluded in the advertisement's targeting criteria.                                                                                                                   |</span>
<span id="cb164-832"><a href="#cb164-832" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Postal Code (Included)`</span>         | The postal code(s) included in the advertisement's targeting criteria.                                                                                                             |</span>
<span id="cb164-833"><a href="#cb164-833" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Postal Code (Excluded)`</span>         | The postal code(s) excluded in the advertisement's targeting criteria.                                                                                                             |</span>
<span id="cb164-834"><a href="#cb164-834" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Location Categories (Included)`</span> | The location categories included in the advertisement's targeting criteria.                                                                                                        |</span>
<span id="cb164-835"><a href="#cb164-835" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Location Categories (Excluded)`</span> | The location categories excluded in the advertisement's targeting criteria.                                                                                                        |</span>
<span id="cb164-836"><a href="#cb164-836" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Interests`</span>                      | The interest audience(s) included in the advertisement's targeting criteria. If this field is empty, then no interest targeting was used.                                          |</span>
<span id="cb164-837"><a href="#cb164-837" aria-hidden="true" tabindex="-1"></a>| <span class="in">`OsType`</span>                         | The operating systems included in the advertisement's targeting criteria. If this field is empty, then all operating systems were targeted.                                        |</span>
<span id="cb164-838"><a href="#cb164-838" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Segments`</span>                       | The segments included in the advertisement's targeting criteria. This is advertiser-specific data used such as Snap Audience Match<span class="ot">[^1]</span> or Lookalike audiences<span class="ot">[^2]</span>                  |</span>
<span id="cb164-839"><a href="#cb164-839" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Language`</span>                       | The languages targeted by the advertisement. If this field is empty, then no language-based targeting was used.                                                                    |</span>
<span id="cb164-840"><a href="#cb164-840" aria-hidden="true" tabindex="-1"></a>| <span class="in">`AdvancedDemographics`</span>           | The third-party data segments targeted by the advertisement. If this field is empty, then no third-party data segments were used.                                                  |</span>
<span id="cb164-841"><a href="#cb164-841" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Targeting Connection Type`</span>      | The internet connection type targeted by the advertisement. If this field is empty, then no targeting based on internet connect type was used.                                     |</span>
<span id="cb164-842"><a href="#cb164-842" aria-hidden="true" tabindex="-1"></a>| <span class="in">`Targeting Carrier (ISP)`</span>        | The carrier type targeted by the advertisement. If this field is empty, all carrier types are targeted.                                                                            |</span>
<span id="cb164-843"><a href="#cb164-843" aria-hidden="true" tabindex="-1"></a>| <span class="in">`CreativeProperties`</span>             | The URL specified in advertisement's call to action.                                                                                                                               |</span>
<span id="cb164-844"><a href="#cb164-844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-845"><a href="#cb164-845" aria-hidden="true" tabindex="-1"></a><span class="ot">[^1]: </span>Snap Audience Match or Customer List Audience is a Snapchat feature that allows users to send their data to the platform and its affiliates to form custom audiences ("Snapchat Audience Match Terms", n.d.).</span>
<span id="cb164-846"><a href="#cb164-846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-847"><a href="#cb164-847" aria-hidden="true" tabindex="-1"></a><span class="ot">[^2]: </span>A Lookalike audience reaches Snapchat users that have similar characteristics to an organization account's existing customers. There are three different options: Similarity (a small-size audience that closely resembles the seed audience), Balance (a medium-size audience that balances similarity and reach), and Reach (a large-size audience that broadly resembles the seed audience) ("Lookalike Audiences", n.d.).</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>