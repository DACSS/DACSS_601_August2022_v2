{
  "hash": "65e069449db20d84fcdb1b5a57579287",
  "result": {
    "markdown": "---\ntitle: \"Challenge 8\"\nauthor: \"Emma Rasmussen\"\ndescription: \"Joining Data\"\ndate: \"08/25/2022\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - snl\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(scales)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\nif(! require(scales))\n  install.packages(\"scales\", repos=\n                     \"http://cran.us.r-project.org\")\n```\n:::\n\n\n## Read in data\n\nReading in the three SNL data sets. I am interested in gender makeup of cast over time, and possibly air time(season fraction) if I have more time.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#filter by cast members, and only selecting the columns from this df that I am interested in\nsnl_actors <- read_csv(\"_data/snl_actors.csv\") %>% \n  filter(type==\"cast\") %>% \n  select(aid, type, gender)\nsnl_actors\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 154 × 3\n   aid            type  gender \n   <chr>          <chr> <chr>  \n 1 Kate McKinnon  cast  female \n 2 Alex Moffat    cast  male   \n 3 Ego Nwodim     cast  unknown\n 4 Chris Redd     cast  male   \n 5 Kenan Thompson cast  male   \n 6 Aidy Bryant    cast  female \n 7 Mikey Day      cast  male   \n 8 Heidi Gardner  cast  female \n 9 Lauren Holt    cast  female \n10 Pete Davidson  cast  male   \n# … with 144 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n\n```{.r .cell-code}\n#selecting columns from snl_casts useful for analysis\nsnl_casts <- read_csv(\"_data/snl_casts.csv\") %>% \n  select(aid, sid, n_episodes, season_fraction)\nsnl_casts\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 614 × 4\n   aid                sid n_episodes season_fraction\n   <chr>            <dbl>      <dbl>           <dbl>\n 1 A. Whitney Brown    11          8           0.444\n 2 A. Whitney Brown    12         20           1    \n 3 A. Whitney Brown    13         13           1    \n 4 A. Whitney Brown    14         20           1    \n 5 A. Whitney Brown    15         20           1    \n 6 A. Whitney Brown    16         20           1    \n 7 Alan Zweibel         5          5           0.25 \n 8 Sasheer Zamata      39         11           0.524\n 9 Sasheer Zamata      40         21           1    \n10 Sasheer Zamata      41         21           1    \n# … with 604 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n\n```{.r .cell-code}\n#selecting columns date/season info for time variable\nsnl_seasons <- read_csv(\"_data/snl_seasons.csv\") %>% \n  select(sid, year, n_episodes)\nsnl_seasons\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 46 × 3\n     sid  year n_episodes\n   <dbl> <dbl>      <dbl>\n 1     1  1975         24\n 2     2  1976         22\n 3     3  1977         20\n 4     4  1978         20\n 5     5  1979         20\n 6     6  1980         13\n 7     7  1981         20\n 8     8  1982         20\n 9     9  1983         19\n10    10  1984         17\n# … with 36 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\n### Briefly describe the data\n\nData sets include data starting at season 1 of snl, and give information about number of episodes in a season, years of seasons, cast members over the seasons, gender of cast members, episode fraction of cast members etc. There are a couple variables in common, cast member name, and season number. This is where I will join the data sets. I think this data will be useful to look at cast member makeup of seasons over time.\n\n## Tidy Data (as needed)\n\n(see above and after join)\n\n## Join Data\n\nJoining 3 datasets\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#joining first two datasets\nsnl1<-snl_actors %>% \n  full_join(snl_casts, by=\"aid\")\nsnl1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 614 × 6\n   aid           type  gender   sid n_episodes season_fraction\n   <chr>         <chr> <chr>  <dbl>      <dbl>           <dbl>\n 1 Kate McKinnon cast  female    37          5           0.227\n 2 Kate McKinnon cast  female    38         21           1    \n 3 Kate McKinnon cast  female    39         21           1    \n 4 Kate McKinnon cast  female    40         21           1    \n 5 Kate McKinnon cast  female    41         21           1    \n 6 Kate McKinnon cast  female    42         21           1    \n 7 Kate McKinnon cast  female    43         21           1    \n 8 Kate McKinnon cast  female    44         21           1    \n 9 Kate McKinnon cast  female    45         18           1    \n10 Kate McKinnon cast  female    46         17           1    \n# … with 604 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n\n```{.r .cell-code}\n#joining new data set to previous join\nsnl2<-snl1 %>% \n  full_join(snl_seasons, by=\"sid\")\nsnl2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 614 × 8\n   aid           type  gender   sid n_episodes.x season_fraction  year n_episo…¹\n   <chr>         <chr> <chr>  <dbl>        <dbl>           <dbl> <dbl>     <dbl>\n 1 Kate McKinnon cast  female    37            5           0.227  2011        22\n 2 Kate McKinnon cast  female    38           21           1      2012        21\n 3 Kate McKinnon cast  female    39           21           1      2013        21\n 4 Kate McKinnon cast  female    40           21           1      2014        21\n 5 Kate McKinnon cast  female    41           21           1      2015        21\n 6 Kate McKinnon cast  female    42           21           1      2016        21\n 7 Kate McKinnon cast  female    43           21           1      2017        21\n 8 Kate McKinnon cast  female    44           21           1      2018        21\n 9 Kate McKinnon cast  female    45           18           1      2019        18\n10 Kate McKinnon cast  female    46           17           1      2020        17\n# … with 604 more rows, and abbreviated variable name ¹​n_episodes.y\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\nMore Tidying\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Reducing columns further to simplify analysis, arranging data in order of season1->46, and removing NA rows\nsnl2<-snl2 %>% \n  select(\"gender\", \"sid\") %>% \n  arrange(sid) %>% \n  na.omit(.)\nsnl2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 607 × 2\n   gender   sid\n   <chr>  <dbl>\n 1 male       1\n 2 male       1\n 3 male       1\n 4 male       1\n 5 male       1\n 6 female     1\n 7 female     1\n 8 female     1\n 9 male       1\n10 male       2\n# … with 597 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n\n```{.r .cell-code}\n#grouping data set by season, then generating a count of gender by season\nsnl2<-snl2 %>% \n  group_by(sid) %>% \n  count(gender)\nsnl2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 95 × 3\n# Groups:   sid [46]\n     sid gender     n\n   <dbl> <chr>  <int>\n 1     1 female     3\n 2     1 male       6\n 3     2 female     3\n 4     2 male       5\n 5     3 female     3\n 6     3 male       6\n 7     4 female     3\n 8     4 male       6\n 9     5 female     3\n10     5 male      12\n# … with 85 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\nAnalyzing Joined Dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Creating a grouped barchart. I use the scales package for this code chunk\nggplot(snl2, aes(fill=gender, y=n, x=sid)) +\n  geom_bar(position=\"dodge\", stat=\"identity\", width=.85, space=0.5)+\n  labs(x=\"Season Number\", y=\"Number of Cast Members\", fill=\"Gender\", title=\"Gender Makeup of SNL Cast Members Over Time\")+\n  scale_y_continuous(breaks= pretty_breaks())+\n  scale_fill_manual(values = c(\"#FF1466\", \"#9ED6FF\", \"#B37BFF\"))+\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](challenge8_EmmaRasmussen_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nI did not expect a gender disparity in snl casts to persist so long over time. I'm surprised it is not 1:1 or closer to that by now.\n",
    "supporting": [
      "challenge8_EmmaRasmussen_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}