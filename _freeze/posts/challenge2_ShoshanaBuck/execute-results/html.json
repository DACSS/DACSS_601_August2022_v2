{
  "hash": "7238b1a97a1541639e56739d1fe31069",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2 \"\nauthor: \"Shoshana Buck\"\ndescription: \"Data wrangling: using group() and summarise()\"\ndate: \"08/16/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - Railroad\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readxl)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n\n## Read in the Data\nThe state County data is looking at the total railroad employment by state and county in the United States and Canada using the calendar year of 2012. The source of this data is most likely taken from the United States Railroad Retirement Board. There is a total of 2,931 rows which reflect the counties and there are 3 columns which reflect the \"State\", \"County\", and the \"total employees\" within the county.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# | Label: Reading in data\nStateCounty<-read_excel(\"_data/StateCounty2012.xls\",\n                     skip = 4,\n                     col_names= c(\"state\", \"delete\",  \"county\",\n                                  \"delete\", \"employees\"))%>%\n  select(!contains(\"delete\"))%>%\n  filter(!str_detect(state, \"Total\"))\n\nStateCounty<-head(StateCounty, -2)%>%\n  mutate(county = ifelse(state==\"CANADA\", \"CANADA\", county))\n\nStateCounty\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2,931 × 3\n   state county               employees\n   <chr> <chr>                    <dbl>\n 1 AE    APO                          2\n 2 AK    ANCHORAGE                    7\n 3 AK    FAIRBANKS NORTH STAR         2\n 4 AK    JUNEAU                       3\n 5 AK    MATANUSKA-SUSITNA            2\n 6 AK    SITKA                        1\n 7 AK    SKAGWAY MUNICIPALITY        88\n 8 AL    AUTAUGA                    102\n 9 AL    BALDWIN                    143\n10 AL    BARBOUR                      1\n# … with 2,921 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\n\n## Describe the data\nThough there are 2,929 state-counties there are only 53 unique States and 1708 unique counties, I found this by including n_distinct in the summarise() function.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nStateCounty %>% \n  summarise(across(c(state), n_distinct))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  state\n  <int>\n1    54\n```\n:::\n\n```{.r .cell-code}\nStateCounty %>% \n  summarise(across(c(county), n_distinct))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  county\n   <int>\n1   1710\n```\n:::\n:::\n\n\n## Provide Grouped Summary Statistics\n\n\n::: {.cell}\n\n```{.r .cell-code}\nStateCounty %>%\n  group_by(state)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2,931 × 3\n# Groups:   state [54]\n   state county               employees\n   <chr> <chr>                    <dbl>\n 1 AE    APO                          2\n 2 AK    ANCHORAGE                    7\n 3 AK    FAIRBANKS NORTH STAR         2\n 4 AK    JUNEAU                       3\n 5 AK    MATANUSKA-SUSITNA            2\n 6 AK    SITKA                        1\n 7 AK    SKAGWAY MUNICIPALITY        88\n 8 AL    AUTAUGA                    102\n 9 AL    BALDWIN                    143\n10 AL    BARBOUR                      1\n# … with 2,921 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n\n```{.r .cell-code}\nStateCounty %>% \n  summarise(total.employees=sum(employees))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  total.employees\n            <dbl>\n1          256094\n```\n:::\n\n```{.r .cell-code}\nStateCounty %>% \n  group_by(state,county) %>% \n  summarise(total.employees=sum(employees)) %>% \n  arrange(desc(total.employees))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2,931 × 3\n# Groups:   state [54]\n   state county           total.employees\n   <chr> <chr>                      <dbl>\n 1 IL    COOK                        8207\n 2 TX    TARRANT                     4235\n 3 NE    DOUGLAS                     3797\n 4 NY    SUFFOLK                     3685\n 5 VA    INDEPENDENT CITY            3249\n 6 FL    DUVAL                       3073\n 7 CA    SAN BERNARDINO              2888\n 8 CA    LOS ANGELES                 2545\n 9 TX    HARRIS                      2535\n10 NE    LINCOLN                     2289\n# … with 2,921 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\n### Explain and Interpret\n\nDuring the calendar year of 2012 the United States Railroad Retirement Board had 255,395 employees in the United States and Canada. I thought it was interesting that Cook county of Illinois had 8207 employees, which was the most employees as of 2012.  ",
    "supporting": [
      "challenge2_ShoshanaBuck_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}