{
  "hash": "c206c9ff60efb00d1cc4b85ec94f7a06",
  "result": {
    "markdown": "---\ntitle: \"Challenge 3\"\nauthor: \"Shoshana Buck\"\ndescription: \"Tidy Data: Pivoting\"\ndate: \"08/17/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_3\n  - eggs_tidy\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(lubridate)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\neggs<-read_excel(\"_data/organiceggpoultry.xls\",\n                      sheet=\"Data\",\n                      range =cell_limits(c(6,2),c(NA,6)),\n                      col_names = c(\"date\", \"xlarge_dozen\",\n                               \"xlarge_halfdozen\", \"large_dozen\",\n                               \"large_halfdozen\")\n     )\nnew_eggs<-eggs %>%  \n  mutate(date = str_remove(date, \"/1\")\n  )\nhead(new_eggs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 5\n  date     xlarge_dozen xlarge_halfdozen large_dozen large_halfdozen\n  <chr>           <dbl>            <dbl>       <dbl>           <dbl>\n1 Jan 2004         230              132         230             126 \n2 February         230              134.        226.            128.\n3 March            230              137         225             131 \n4 April            234.             137         225             131 \n5 May              236              137         225             131 \n6 June             241              137         231.            134.\n```\n:::\n:::\n\n\n### Briefly describe the data\n\nThe U.S Department of Agriculture conducted monthly reports about the amount, size, and price of organic eggs starting in 2004 and ending in 2013. There are 120 observations, which are the prices of the organic eggs and 6 variables (month, year, xlarge_dozen, xlarge_halfdozen, large_dozen, and large_halfdozen), within this data set. To better understand the data set it is best to tidy the data first and then use the function pivot_longer() which collapses multiple columns into one column and flips the columns to rows. \n\n::: {.cell}\n\n```{.r .cell-code}\nnew_eggs<-new_eggs%>%\n  separate(date, into=c(\"month\", \"year\"), sep=\" \")%>%\n  fill(year)\nnew_eggs\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 120 × 6\n   month     year  xlarge_dozen xlarge_halfdozen large_dozen large_halfdozen\n   <chr>     <chr>        <dbl>            <dbl>       <dbl>           <dbl>\n 1 Jan       2004          230              132         230             126 \n 2 February  2004          230              134.        226.            128.\n 3 March     2004          230              137         225             131 \n 4 April     2004          234.             137         225             131 \n 5 May       2004          236              137         225             131 \n 6 June      2004          241              137         231.            134.\n 7 July      2004          241              137         234.            134.\n 8 August    2004          241              137         234.            134.\n 9 September 2004          241              136.        234.            130.\n10 October   2004          241              136.        234.            128.\n# … with 110 more rows\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\n## Pivot the Data\nThe date set has n= 120 rows and k= 6 columns, which means that when using the function pivot_longer() the k-6 values are going to pivot to the rows using the 'names_to' variable and the current values will move using the 'values_to' variable. The data set is complex because the 120 cases have a month-year combination, whereas the 6 columns have four different prices based off the size of the organic eggs.  \n\nThe dimension of the data can be calculated using the formula n*(k-2). In this case, k=6 so k-2 = 4 and n = 120. So, it can be expected that the new_eggs_long data should have 480 rows.\n\n::: {.cell}\n\n```{.r .cell-code}\nnew_eggs_long<-new_eggs %>% \n  pivot_longer(cols= contains(\"large\"),\nnames_to = \"eggtype\",\nvalues_to = \"avgprice\" \n)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}