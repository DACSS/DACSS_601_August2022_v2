{
  "hash": "04274cc2fca32ce6a7963ddc9062e713",
  "result": {
    "markdown": "---\ntitle: \"Challenge 4\"\nauthor: \"Emma Rasmussen\"\ndesription: \"More data wrangling: pivoting\"\ndate: \"08/18/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_4\n  - FederalFundsRate\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(lubridate)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFedFundsRate<-read_csv(\"_data/FedFundsRate.csv\",\n                        show_col_types = FALSE)\n#Saving an unchanged copy of the dataset\nFedFundsRateOrig<-FedFundsRate\n\n#checking variables\ncolnames(FedFundsRate)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Year\"                         \"Month\"                       \n [3] \"Day\"                          \"Federal Funds Target Rate\"   \n [5] \"Federal Funds Upper Target\"   \"Federal Funds Lower Target\"  \n [7] \"Effective Federal Funds Rate\" \"Real GDP (Percent Change)\"   \n [9] \"Unemployment Rate\"            \"Inflation Rate\"              \n```\n:::\n\n```{.r .cell-code}\n#Checking columns with a lot of NA values\nFedFundsRate%>%\n  select(\"Federal Funds Target Rate\", \"Federal Funds Upper Target\", \"Federal Funds Lower Target\") %>% \n  distinct()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 68 × 3\n   `Federal Funds Target Rate` `Federal Funds Upper Target` Federal Funds Lowe…¹\n                         <dbl>                        <dbl>                <dbl>\n 1                       NA                              NA                   NA\n 2                       10.2                            NA                   NA\n 3                       10                              NA                   NA\n 4                        9.5                            NA                   NA\n 5                        9                              NA                   NA\n 6                        8.5                            NA                   NA\n 7                        8.62                           NA                   NA\n 8                        8.75                           NA                   NA\n 9                        9.25                           NA                   NA\n10                        9.44                           NA                   NA\n# … with 58 more rows, and abbreviated variable name\n#   ¹​`Federal Funds Lower Target`\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n\n```{.r .cell-code}\n#renaming columns prior to pivot\nFedFundsRate<-rename(FedFundsRate, \"TargetRate\"=\"Federal Funds Target Rate\", \"UpperTargetRate\"=\"Federal Funds Upper Target\", \"LowerTargetRate\"=\"Federal Funds Lower Target\", \"EffectiveRate\"=\"Effective Federal Funds Rate\", \"GDP(PercentChange)\"=\"Real GDP (Percent Change)\", \"UnemploymentRate\"=\"Unemployment Rate\", \"InflationRate\"=\"Inflation Rate\")\n\nFedFundsRate\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 904 × 10\n    Year Month   Day TargetRate UpperT…¹ Lower…² Effec…³ GDP(P…⁴ Unemp…⁵ Infla…⁶\n   <dbl> <dbl> <dbl>      <dbl>    <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n 1  1954     7     1         NA       NA      NA    0.8      4.6     5.8      NA\n 2  1954     8     1         NA       NA      NA    1.22    NA       6        NA\n 3  1954     9     1         NA       NA      NA    1.06    NA       6.1      NA\n 4  1954    10     1         NA       NA      NA    0.85     8       5.7      NA\n 5  1954    11     1         NA       NA      NA    0.83    NA       5.3      NA\n 6  1954    12     1         NA       NA      NA    1.28    NA       5        NA\n 7  1955     1     1         NA       NA      NA    1.39    11.9     4.9      NA\n 8  1955     2     1         NA       NA      NA    1.29    NA       4.7      NA\n 9  1955     3     1         NA       NA      NA    1.35    NA       4.6      NA\n10  1955     4     1         NA       NA      NA    1.43     6.7     4.7      NA\n# … with 894 more rows, and abbreviated variable names ¹​UpperTargetRate,\n#   ²​LowerTargetRate, ³​EffectiveRate, ⁴​`GDP(PercentChange)`, ⁵​UnemploymentRate,\n#   ⁶​InflationRate\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\n### Briefly describe the data\nI know nothing about economics but the Federal Funds Rate appears to be set by the government to regulate lending by banks. The Federal Open Markets Committee (FOMC) sets an upper and lower limit target for the Federal Funds Rate. This data set includes a target rate, these upper and lower target limits, and the effective rate (I am assuming these are independent variables). So one observation includes: date, target rate, upper and lower limits, and effective rate). The data set also includes the GDP, Unemployment Rate, and inflation which I am assuming to be dependent variables because they are effected by the federal funds rate.\n\n## Tidy Data (as needed)\n\n#Pivoting federal fund rates into a single column \n\n::: {.cell}\n\n```{.r .cell-code}\nFedFundsRateLonger<-pivot_longer(FedFundsRate, col=c(\"TargetRate\", \"UpperTargetRate\", \"LowerTargetRate\", \"EffectiveRate\"),\n                                 names_to=\"FederalFundsRate\",\n                                 values_to=\"Value\")\nFedFundsRateLonger\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3,616 × 8\n    Year Month   Day `GDP(PercentChange)` UnemploymentRate Infla…¹ Feder…² Value\n   <dbl> <dbl> <dbl>                <dbl>            <dbl>   <dbl> <chr>   <dbl>\n 1  1954     7     1                  4.6              5.8      NA Target… NA   \n 2  1954     7     1                  4.6              5.8      NA UpperT… NA   \n 3  1954     7     1                  4.6              5.8      NA LowerT… NA   \n 4  1954     7     1                  4.6              5.8      NA Effect…  0.8 \n 5  1954     8     1                 NA                6        NA Target… NA   \n 6  1954     8     1                 NA                6        NA UpperT… NA   \n 7  1954     8     1                 NA                6        NA LowerT… NA   \n 8  1954     8     1                 NA                6        NA Effect…  1.22\n 9  1954     9     1                 NA                6.1      NA Target… NA   \n10  1954     9     1                 NA                6.1      NA UpperT… NA   \n# … with 3,606 more rows, and abbreviated variable names ¹​InflationRate,\n#   ²​FederalFundsRate\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\nAny additional comments?\n\nIf I knew how the data was being used/type of analyses we were doing I might pivot differently\n\n## Identify variables that need to be mutated\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#reformatting date\nFedFundsRateLonger$Date<- paste(FedFundsRateLonger$Year, FedFundsRateLonger$Month, FedFundsRateLonger$Day, sep=\"-\") %>% \n  ymd() %>% \n  as.Date()\n\n#removing date columns and reordering columns for readability: date-rate-value-Dependent Variables\nselect(FedFundsRateLonger, 9,7,8,6,5,4)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3,616 × 6\n   Date       FederalFundsRate Value InflationRate UnemploymentRate GDP(Percen…¹\n   <date>     <chr>            <dbl>         <dbl>            <dbl>        <dbl>\n 1 1954-07-01 TargetRate       NA               NA              5.8          4.6\n 2 1954-07-01 UpperTargetRate  NA               NA              5.8          4.6\n 3 1954-07-01 LowerTargetRate  NA               NA              5.8          4.6\n 4 1954-07-01 EffectiveRate     0.8             NA              5.8          4.6\n 5 1954-08-01 TargetRate       NA               NA              6           NA  \n 6 1954-08-01 UpperTargetRate  NA               NA              6           NA  \n 7 1954-08-01 LowerTargetRate  NA               NA              6           NA  \n 8 1954-08-01 EffectiveRate     1.22            NA              6           NA  \n 9 1954-09-01 TargetRate       NA               NA              6.1         NA  \n10 1954-09-01 UpperTargetRate  NA               NA              6.1         NA  \n# … with 3,606 more rows, and abbreviated variable name ¹​`GDP(PercentChange)`\n# ℹ Use `print(n = ...)` to see more rows\n```\n:::\n:::\n\n\nAny additional comments?\n\nI left the unemployment rate, inflation rate, and GDP in their own columns so analyses on these data could more easily compare Federal Funds Rate against these dependent variables over time (i.e. filtering effective rate and comparing to one of these variables). Condensing the data into one rate and variable might be easier to answer specific questions, but I did not want to remove any data. \n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}