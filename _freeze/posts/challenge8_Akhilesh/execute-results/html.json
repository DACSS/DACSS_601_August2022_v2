{
  "hash": "12d53bfcd74e8f825532013d5c52b223",
  "result": {
    "markdown": "---\ntitle: \"Challenge 8 Akhilesh\"\nauthor: \"Akhilesh Kumar\"\ndescription: \"Joining Data\"\ndate: \"08/25/2022\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_8\n  - railroads\n  - snl\n  - faostat\n  - debt\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(lubridate)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in multiple data sets, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  join two or more data sets and analyze some aspect of the joined data\n\n(be sure to only include the category tags for the data you use!)\n\n## Read in data\n\nRead in snl datasets:\n- snl_actors\n- snl_casts\n- snl_seasons\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsnl_actors<-read_csv(\"_data/snl_actors.csv\", show_col_types = FALSE)\nsnl_casts<-read_csv(\"_data/snl_casts.csv\", show_col_types = FALSE)\nsnl_seasons<-read_csv(\"_data/snl_seasons.csv\", show_col_types = FALSE)\n```\n:::\n\n\n### Briefly describe the data\n\"fed_rate\" dataset contains year, month, day wise figures of Federal Funds Target Rate, Federal Funds Upper Target, Federal Funds Lower Target, Effective Federal Funds Rate, Real GDP (Percent Change), Unemployment Rate and Inflation Rate from July 1954 to March 2017\n\"debt\" dataset contains \n\n'snl_seasons', 'snl_casts' and 'snl_actors' datasets contains various datasets pertaining to 'season', 'actor casting' and 'actors' details' for 'Saturday Night Live Show'.Saturday Night Live (often abbreviated to SNL) is an American late-night live television sketch comedy and variety show created by Lorne Michaels and developed by Dick Ebersol. Michaels currently serves as the program's showrunner. The show premiere was hosted by George Carlin on NBC on October 11, 1975, under the original title NBC's Saturday Night.\n\n'snl_seasons' contains 'Saturday Night Live' show details for following parameters/columns: \n  - 'year': 'Saturday Night Live Show' Season year,  \n  - 'first_epid': first episode id for the season year,\t        \n  - 'last_epid': last episode id for the season year and\t\n  - 'n_episodes': number of episodes for the season year\n'snl_seasons' has 46 obervations and 5 columns, where each observation is contain details of separate season of 'Saturday Night Live Show'.\n\n\"snl_casts\" dataset contains casting details of actors for different seasons of 'Saturday Night Live Show'. It contains following parameters/columns: \n  - sid: Season Id, for which the actor has appeared in the show\n  - featured: if the actor was featured\n  - first_epid: first episode of appearance of the actor\n  - last_epid: last episode of appearance of the actor\n  - update_anchor: if the actor was update ancor in the show\n  - n_episodes: number of episodes in the season\n\n'snl_casts' has 46 obervations and 5 columns, where each observation is contain details of separate season of 'Saturday Night Live Show'\n\n\"snl_actors\" dataset contains details of actors for 'Saturday Night Live Show'. It contains 'actor id', 'web url', 'actor type' and 'gender type' in columns 'aid',\t'url', 'type',\tand 'gender' respectively. Dataset has 2306 observations and 4 columns.\n\n\n## Tidy Data (as needed)\n\nMutate to convert column variable type of 'first_epid', 'last_epid' to date format using lubridate package, for 'snl_seasons' and 'snl_casts' datasets.\n\nMutate to convert column variables to factor, dataset wise details as given below:\n- snl_seasons: year\n- snl_casts: aid, featured, update_anchor\n- snl_actors: type, gender\n\nRename 'first_epid', 'last_epi' &  'n_episodes' columns in 'snl_casts' dataset to 'first_epid_cast', 'last_epid_cast' & 'n_episodes_cast' respectively, as these columns contain details specific to an actor and there are similar columns in 'snl_seasons' dataset for specific season.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsnl_seasons<-snl_seasons %>% \n  mutate_at(vars(first_epid, last_epid), ymd) %>% \n  mutate_at(vars(year), as.factor)\n\nsnl_casts<-snl_casts %>% \n  select(-c(season_fraction)) %>% \n  mutate_at(vars(first_epid, last_epid), ymd) %>% \n  mutate_at(vars(aid, featured, update_anchor), as.factor) %>% \n  rename(first_epid_cast = first_epid,\n         last_epid_cast = last_epid,\n         n_episodes_cast = n_episodes)\n\nsnl_actors<-snl_actors %>% \n  select(-c(url)) %>% \n  mutate_at(vars(type, gender), as.factor) \n\n\n#sanity check, check class of column variable to verify the class/format of date columns as converted above\n\nsapply(snl_seasons, class)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       sid       year first_epid  last_epid n_episodes \n \"numeric\"   \"factor\"     \"Date\"     \"Date\"  \"numeric\" \n```\n:::\n\n```{.r .cell-code}\nsapply(snl_casts, class)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            aid             sid        featured first_epid_cast  last_epid_cast \n       \"factor\"       \"numeric\"        \"factor\"          \"Date\"          \"Date\" \n  update_anchor n_episodes_cast \n       \"factor\"       \"numeric\" \n```\n:::\n\n```{.r .cell-code}\nsapply(snl_actors, class)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        aid        type      gender \n\"character\"    \"factor\"    \"factor\" \n```\n:::\n:::\n\n\n\n## Join Data\n\n- Left join snl_casts & snl_actors dataset on 'aid' key and named the join as 'cast_actors_left_join'\n- Left join cast_actors_left_join & snl_seasons dataset on 'sid' key and named the join as 'cast_actors_season_left_join'\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncast_actors_left_join <- left_join(snl_casts, snl_actors,\n                  by = c(\"aid\" = \"aid\"))\n                   \ndim(cast_actors_left_join)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 614   9\n```\n:::\n\n```{.r .cell-code}\nhead(cast_actors_left_join)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 9\n  aid             sid featu…¹ first_ep…² last_epi…³ updat…⁴ n_epi…⁵ type  gender\n  <chr>         <dbl> <fct>   <date>     <date>     <fct>     <dbl> <fct> <fct> \n1 A. Whitney B…    11 TRUE    1986-02-22 NA         FALSE         8 cast  male  \n2 A. Whitney B…    12 TRUE    NA         NA         FALSE        20 cast  male  \n3 A. Whitney B…    13 TRUE    NA         NA         FALSE        13 cast  male  \n4 A. Whitney B…    14 TRUE    NA         NA         FALSE        20 cast  male  \n5 A. Whitney B…    15 TRUE    NA         NA         FALSE        20 cast  male  \n6 A. Whitney B…    16 TRUE    NA         NA         FALSE        20 cast  male  \n# … with abbreviated variable names ¹​featured, ²​first_epid_cast,\n#   ³​last_epid_cast, ⁴​update_anchor, ⁵​n_episodes_cast\n```\n:::\n\n```{.r .cell-code}\ncast_actors_season_left_join <- left_join(cast_actors_left_join, snl_seasons,\n                   by = c(\"sid\" = \"sid\"))\n\ndim(cast_actors_season_left_join)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 614  13\n```\n:::\n\n```{.r .cell-code}\nhead(cast_actors_season_left_join)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 13\n  aid       sid featu…¹ first_ep…² last_epi…³ updat…⁴ n_epi…⁵ type  gender year \n  <chr>   <dbl> <fct>   <date>     <date>     <fct>     <dbl> <fct> <fct>  <fct>\n1 A. Whi…    11 TRUE    1986-02-22 NA         FALSE         8 cast  male   1985 \n2 A. Whi…    12 TRUE    NA         NA         FALSE        20 cast  male   1986 \n3 A. Whi…    13 TRUE    NA         NA         FALSE        13 cast  male   1987 \n4 A. Whi…    14 TRUE    NA         NA         FALSE        20 cast  male   1988 \n5 A. Whi…    15 TRUE    NA         NA         FALSE        20 cast  male   1989 \n6 A. Whi…    16 TRUE    NA         NA         FALSE        20 cast  male   1990 \n# … with 3 more variables: first_epid <date>, last_epid <date>,\n#   n_episodes <dbl>, and abbreviated variable names ¹​featured,\n#   ²​first_epid_cast, ³​last_epid_cast, ⁴​update_anchor, ⁵​n_episodes_cast\n# ℹ Use `colnames()` to see all variable names\n```\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}