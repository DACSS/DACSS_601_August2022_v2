{
  "hash": "7484468dbe90d495ca9101ff27ccefd2",
  "result": {
    "markdown": "---\ntitle: \"Challenge 1\"\nauthor: \"Steve O'Neill\"\ndesription: \"Reading in data and creating a post\"\ndate: \"08/15/2022\"\ndf-print: paged\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_1\n  - tidyverse\n  - statecounty2012\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in the Data\n\n-   **StateCounty2012.xlsx** ⭐⭐⭐⭐\n\nI chose the State & County railroad employment dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\n```\n:::\n\n\nFirst I imported the dataset, removing the first two rows of unhelpful data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf1 <- read_xls(\"_data/StateCounty2012.xls\", skip = 2)\n```\n:::\n\nNext, I removed un-used columns:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf2 <- df1 %>% select(STATE,COUNTY,TOTAL)\n```\n:::\n\n\nAfter, I removed unhelpful pre-calculated totals:\n\n::: {.cell}\n\n```{.r .cell-code}\ndf3=df2[grepl(\"^[a-zA-Z][a-zA-Z]$\",df2$STATE),]\n```\n:::\n\n\n\n## Describe the data\n\nThis data describes railroad employment in U.S. states and territories. In this instance, the original 'cases' are the *counties* and the original 'variables' are their parent states and the total number of persons employed in the railroad industry in those counties.\n\nYou may notice the data contains the uncommon state codes \"AE\" and \"AP\", as well as the recurring \"APO\" county name. These represent [military addresses](https://pe.usps.com/text/pub28/28c2_010.htm):\n\n| State Code | Location                            |\n|------------|-------------------------------------|\n| AE         | Europe, Middle East, Africa, Canada |\n| AP         | Asia Pacific                        |\n| AA         | Americas (excluding Canada)         |\n\n'APO' refers to \"Army Post Office\".\n\nI have calculated some basic statistics:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Group by state, but first, add the largest county to the dataframe\nby_state <- df3 %>% group_by(STATE) %>% \n    mutate(largest.county.name = COUNTY[which.max(TOTAL)]) %>% \n      mutate(smallest.county.name = COUNTY[which.min(TOTAL)])\n\n#Group by state, then summarize the total of all county employees, per-state:\nby_state <- by_state %>% summarise(\n  total.state.employees = sum(TOTAL),\n  median.county.employees = median(TOTAL),\n  smallest.county = min(TOTAL),\n  smallest.county.name = first(smallest.county.name),\n  largest.county = max(TOTAL),\n  largest.county.name = first(largest.county.name),\n  standard.dev = sd(TOTAL)\n)\n\nby_state\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"STATE\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"total.state.employees\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"median.county.employees\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"smallest.county\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"smallest.county.name\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"largest.county\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"largest.county.name\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"standard.dev\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"AE\",\"2\":\"2\",\"3\":\"2.0\",\"4\":\"2\",\"5\":\"APO\",\"6\":\"2\",\"7\":\"APO\",\"8\":\"NA\"},{\"1\":\"AK\",\"2\":\"103\",\"3\":\"2.5\",\"4\":\"1\",\"5\":\"SITKA\",\"6\":\"88\",\"7\":\"SKAGWAY MUNICIPALITY\",\"8\":\"34.7644454\"},{\"1\":\"AL\",\"2\":\"4257\",\"3\":\"26.0\",\"4\":\"1\",\"5\":\"BARBOUR\",\"6\":\"990\",\"7\":\"JEFFERSON\",\"8\":\"130.1652014\"},{\"1\":\"AP\",\"2\":\"1\",\"3\":\"1.0\",\"4\":\"1\",\"5\":\"APO\",\"6\":\"1\",\"7\":\"APO\",\"8\":\"NA\"},{\"1\":\"AR\",\"2\":\"3871\",\"3\":\"16.5\",\"4\":\"1\",\"5\":\"NEWTON\",\"6\":\"972\",\"7\":\"PULASKI\",\"8\":\"131.1367948\"},{\"1\":\"AZ\",\"2\":\"3153\",\"3\":\"94.0\",\"4\":\"3\",\"5\":\"GREENLEE\",\"6\":\"749\",\"7\":\"PIMA\",\"8\":\"227.7819132\"},{\"1\":\"CA\",\"2\":\"13137\",\"3\":\"61.0\",\"4\":\"1\",\"5\":\"MONO\",\"6\":\"2888\",\"7\":\"SAN BERNARDINO\",\"8\":\"549.4691518\"},{\"1\":\"CO\",\"2\":\"3650\",\"3\":\"10.0\",\"4\":\"1\",\"5\":\"BENT\",\"6\":\"553\",\"7\":\"ADAMS\",\"8\":\"127.7507289\"},{\"1\":\"CT\",\"2\":\"2592\",\"3\":\"125.0\",\"4\":\"26\",\"5\":\"TOLLAND\",\"6\":\"1561\",\"7\":\"NEW HAVEN\",\"8\":\"520.1983138\"},{\"1\":\"DC\",\"2\":\"279\",\"3\":\"279.0\",\"4\":\"279\",\"5\":\"WASHINGTON DC\",\"6\":\"279\",\"7\":\"WASHINGTON DC\",\"8\":\"NA\"},{\"1\":\"DE\",\"2\":\"1495\",\"3\":\"158.0\",\"4\":\"62\",\"5\":\"SUSSEX\",\"6\":\"1275\",\"7\":\"NEW CASTLE\",\"8\":\"674.3236117\"},{\"1\":\"FL\",\"2\":\"7419\",\"3\":\"20.0\",\"4\":\"1\",\"5\":\"CALHOUN\",\"6\":\"3073\",\"7\":\"DUVAL\",\"8\":\"386.0113274\"},{\"1\":\"GA\",\"2\":\"8605\",\"3\":\"15.0\",\"4\":\"1\",\"5\":\"BANKS\",\"6\":\"878\",\"7\":\"FULTON\",\"8\":\"113.1291853\"},{\"1\":\"HI\",\"2\":\"4\",\"3\":\"1.0\",\"4\":\"1\",\"5\":\"HAWAII\",\"6\":\"2\",\"7\":\"HONOLULU\",\"8\":\"0.5773503\"},{\"1\":\"IA\",\"2\":\"4019\",\"3\":\"14.0\",\"4\":\"1\",\"5\":\"AUDUBON\",\"6\":\"609\",\"7\":\"POTTAWATTAMIE\",\"8\":\"76.7957693\"},{\"1\":\"ID\",\"2\":\"1563\",\"3\":\"12.0\",\"4\":\"1\",\"5\":\"CLEARWATER\",\"6\":\"538\",\"7\":\"BANNOCK\",\"8\":\"95.5478564\"},{\"1\":\"IL\",\"2\":\"19131\",\"3\":\"42.0\",\"4\":\"1\",\"5\":\"HARDIN\",\"6\":\"8207\",\"7\":\"COOK\",\"8\":\"829.1464659\"},{\"1\":\"IN\",\"2\":\"8537\",\"3\":\"30.0\",\"4\":\"3\",\"5\":\"MARTIN\",\"6\":\"1999\",\"7\":\"LAKE\",\"8\":\"233.0627675\"},{\"1\":\"KS\",\"2\":\"6092\",\"3\":\"12.0\",\"4\":\"1\",\"5\":\"CHAUTAUQUA\",\"6\":\"1286\",\"7\":\"JOHNSON\",\"8\":\"167.3644413\"},{\"1\":\"KY\",\"2\":\"4811\",\"3\":\"11.0\",\"4\":\"1\",\"5\":\"ADAIR\",\"6\":\"483\",\"7\":\"GREENUP\",\"8\":\"76.9114141\"},{\"1\":\"LA\",\"2\":\"3915\",\"3\":\"20.0\",\"4\":\"1\",\"5\":\"CAMERON\",\"6\":\"546\",\"7\":\"CADDO\",\"8\":\"101.4812643\"},{\"1\":\"MA\",\"2\":\"3379\",\"3\":\"271.0\",\"4\":\"44\",\"5\":\"BARNSTABLE\",\"6\":\"673\",\"7\":\"MIDDLESEX\",\"8\":\"203.8299016\"},{\"1\":\"MD\",\"2\":\"4709\",\"3\":\"107.5\",\"4\":\"1\",\"5\":\"SOMERSET\",\"6\":\"809\",\"7\":\"PRINCE GEORGES\",\"8\":\"233.2815017\"},{\"1\":\"ME\",\"2\":\"654\",\"3\":\"29.0\",\"4\":\"2\",\"5\":\"FRANKLIN\",\"6\":\"117\",\"7\":\"PENOBSCOT\",\"8\":\"38.1153950\"},{\"1\":\"MI\",\"2\":\"3932\",\"3\":\"13.0\",\"4\":\"1\",\"5\":\"ALCONA\",\"6\":\"849\",\"7\":\"WAYNE\",\"8\":\"109.7598838\"},{\"1\":\"MN\",\"2\":\"5467\",\"3\":\"22.0\",\"4\":\"1\",\"5\":\"DODGE\",\"6\":\"651\",\"7\":\"HENNEPIN\",\"8\":\"122.3857489\"},{\"1\":\"MO\",\"2\":\"8419\",\"3\":\"24.0\",\"4\":\"1\",\"5\":\"DOUGLAS\",\"6\":\"2055\",\"7\":\"JACKSON\",\"8\":\"208.1161744\"},{\"1\":\"MS\",\"2\":\"2111\",\"3\":\"11.5\",\"4\":\"1\",\"5\":\"COAHOMA\",\"6\":\"341\",\"7\":\"DESOTO\",\"8\":\"46.6866703\"},{\"1\":\"MT\",\"2\":\"3327\",\"3\":\"11.0\",\"4\":\"1\",\"5\":\"MADISON\",\"6\":\"525\",\"7\":\"YELLOWSTONE\",\"8\":\"122.9539691\"},{\"1\":\"NC\",\"2\":\"3143\",\"3\":\"14.0\",\"4\":\"1\",\"5\":\"ALLEGHANY\",\"6\":\"322\",\"7\":\"WAKE\",\"8\":\"58.5875980\"},{\"1\":\"ND\",\"2\":\"2204\",\"3\":\"8.0\",\"4\":\"1\",\"5\":\"BOWMAN\",\"6\":\"407\",\"7\":\"WARD\",\"8\":\"92.4696999\"},{\"1\":\"NE\",\"2\":\"13176\",\"3\":\"15.0\",\"4\":\"1\",\"5\":\"BROWN\",\"6\":\"3797\",\"7\":\"DOUGLAS\",\"8\":\"511.5815697\"},{\"1\":\"NH\",\"2\":\"393\",\"3\":\"15.5\",\"4\":\"2\",\"5\":\"BELKNAP\",\"6\":\"146\",\"7\":\"ROCKINGHAM\",\"8\":\"54.3324131\"},{\"1\":\"NJ\",\"2\":\"8329\",\"3\":\"296.0\",\"4\":\"19\",\"5\":\"CAPE MAY\",\"6\":\"1097\",\"7\":\"ESSEX\",\"8\":\"338.2173083\"},{\"1\":\"NM\",\"2\":\"1958\",\"3\":\"26.0\",\"4\":\"2\",\"5\":\"RIO ARRIBA\",\"6\":\"431\",\"7\":\"CURRY\",\"8\":\"112.7198235\"},{\"1\":\"NV\",\"2\":\"746\",\"3\":\"19.0\",\"4\":\"1\",\"5\":\"STOREY\",\"6\":\"269\",\"7\":\"CLARK\",\"8\":\"94.7953138\"},{\"1\":\"NY\",\"2\":\"17050\",\"3\":\"71.0\",\"4\":\"5\",\"5\":\"LEWIS\",\"6\":\"3685\",\"7\":\"SUFFOLK\",\"8\":\"590.7790231\"},{\"1\":\"OH\",\"2\":\"9056\",\"3\":\"41.0\",\"4\":\"3\",\"5\":\"MORGAN\",\"6\":\"842\",\"7\":\"LUCAS\",\"8\":\"147.9123410\"},{\"1\":\"OK\",\"2\":\"2318\",\"3\":\"14.0\",\"4\":\"1\",\"5\":\"BEAVER\",\"6\":\"377\",\"7\":\"TULSA\",\"8\":\"55.8621271\"},{\"1\":\"OR\",\"2\":\"2322\",\"3\":\"30.0\",\"4\":\"2\",\"5\":\"GILLIAM\",\"6\":\"467\",\"7\":\"UMATILLA\",\"8\":\"108.4495327\"},{\"1\":\"PA\",\"2\":\"12769\",\"3\":\"85.0\",\"4\":\"3\",\"5\":\"COLUMBIA\",\"6\":\"1649\",\"7\":\"PHILADELPHIA\",\"8\":\"293.0664937\"},{\"1\":\"RI\",\"2\":\"487\",\"3\":\"48.0\",\"4\":\"8\",\"5\":\"BRISTOL\",\"6\":\"318\",\"7\":\"PROVIDENCE\",\"8\":\"129.0186033\"},{\"1\":\"SC\",\"2\":\"2296\",\"3\":\"25.0\",\"4\":\"1\",\"5\":\"ALLENDALE\",\"6\":\"220\",\"7\":\"FLORENCE\",\"8\":\"53.9122027\"},{\"1\":\"SD\",\"2\":\"949\",\"3\":\"5.0\",\"4\":\"1\",\"5\":\"AURORA\",\"6\":\"167\",\"7\":\"FALL RIVER\",\"8\":\"34.6041338\"},{\"1\":\"TN\",\"2\":\"4952\",\"3\":\"26.0\",\"4\":\"1\",\"5\":\"DECATUR\",\"6\":\"621\",\"7\":\"SHELBY\",\"8\":\"94.8181963\"},{\"1\":\"TX\",\"2\":\"19839\",\"3\":\"17.0\",\"4\":\"1\",\"5\":\"BAYLOR\",\"6\":\"4235\",\"7\":\"TARRANT\",\"8\":\"350.1155344\"},{\"1\":\"UT\",\"2\":\"1917\",\"3\":\"16.0\",\"4\":\"1\",\"5\":\"GRAND\",\"6\":\"580\",\"7\":\"SALT LAKE\",\"8\":\"142.5724143\"},{\"1\":\"VA\",\"2\":\"7551\",\"3\":\"25.5\",\"4\":\"1\",\"5\":\"LANCASTER\",\"6\":\"3249\",\"7\":\"INDEPENDENT CITY\",\"8\":\"340.7355403\"},{\"1\":\"VT\",\"2\":\"259\",\"3\":\"8.5\",\"4\":\"3\",\"5\":\"CALEDONIA\",\"6\":\"83\",\"7\":\"FRANKLIN\",\"8\":\"24.5443084\"},{\"1\":\"WA\",\"2\":\"5222\",\"3\":\"29.0\",\"4\":\"1\",\"5\":\"FERRY\",\"6\":\"1039\",\"7\":\"KING\",\"8\":\"255.7140462\"},{\"1\":\"WI\",\"2\":\"3773\",\"3\":\"23.0\",\"4\":\"2\",\"5\":\"DOOR\",\"6\":\"465\",\"7\":\"DOUGLAS\",\"8\":\"82.1718953\"},{\"1\":\"WV\",\"2\":\"3213\",\"3\":\"33.0\",\"4\":\"1\",\"5\":\"GILMER\",\"6\":\"406\",\"7\":\"CABELL\",\"8\":\"85.7537230\"},{\"1\":\"WY\",\"2\":\"2876\",\"3\":\"60.5\",\"4\":\"3\",\"5\":\"SUBLETTE\",\"6\":\"737\",\"7\":\"LARAMIE\",\"8\":\"168.9799035\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nA few things stand out:\n\n-   Texas has the largest amount of railroad employees combined, at 19,839.\n-   However, Illinois has the largest single county of railroad employees in Cook County, at 8207. That's almost double the next-largest in Tarrant, TX.\n-   Illinois also possesses one of the smallest counties by the same metric - Hardin County, with only one employee. It has the highest standard deviation among in-state counties.\n\nLooking forward to the next steps in analysis.\n",
    "supporting": [
      "challenge1_stevenoneill_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}