{
  "hash": "f6b596e4c2a8a47cdb87797ed92606fd",
  "result": {
    "markdown": "---\ntitle: \"Final Project\"\nauthor: \"Lai Wei\"\ndesription: \"final project\"\ndate: \"09/4/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - hw2\n  - Lai Wei\n  - dataset\n  - ggplot2\neditor: \n  markdown: \n    wrap: sentence\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\n## Introduction\n\n  The University of Massachusetts Amherst (UMass Amherst, UMass) is a public research university in Amherst, Massachusetts and the sole public land-grant university in Commonwealth of Massachusetts.\nIt was founded in 1863 as an agricultural college in the beginning.\nAnd the department of Mathematics and Statistics is an essential component of various researches and majors in Umass, which provides the student with broad exposure to the most important themes in mathematics and statistics and exposure to computing paradigms (whether in Java, Python, MATLAB, R, and/or SAS).\n\n  I will code and analyze mainly based on admission information in mathematics and statistics department.\n\n## Data\n\n  As a member of the class of 2018, I want to take a glance mainly of how Umass Amherst-math department developed and give a report about student admissions from 2012 to 2021, 9 years in total.The data is from Umass Amherst official website, including both undergraduate and graduate students.\n\n  In the first place, I import the data based on First-year, master and Phd students into R. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Import data about Umass Amherst first-year students in math. \nlibrary(readxl)\nAdmissions_orig <- read_excel(\"C:/Users/Lai Wei/Desktop/Umass Amherst/DACSS 601/Assignments/Final Project/Admissions_math.xlsx\",\n                         sheet = \"MATH\",\n                         skip = 8,\n                         n_max=5,\n                         col_names = c(\"stats\",2012:2021)) %>%\n  pivot_longer(cols=starts_with(\"20\"), \n               names_to = \"year\",\n               values_to = \"value\")%>%\n  pivot_wider(names_from = \"stats\", values_from = \"value\")\nAdmissions_orig\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 6\n   year  Applications Acceptances Enrollments `Acceptance Rate (%)` `Yield (%)`\n   <chr>        <dbl>       <dbl>       <dbl>                 <dbl>       <dbl>\n 1 2012           342         257          59                 0.751       0.230\n 2 2013           377         297          56                 0.788       0.189\n 3 2014           428         318          62                 0.743       0.195\n 4 2015           485         358          67                 0.738       0.187\n 5 2016           560         411          67                 0.734       0.163\n 6 2017           662         373          51                 0.563       0.137\n 7 2018           764         603          85                 0.789       0.141\n 8 2019           817         594         104                 0.727       0.175\n 9 2020           772         596          81                 0.772       0.136\n10 2021           606         490          58                 0.809       0.118\n```\n:::\n\n```{.r .cell-code}\nAdmissions<-Admissions_orig%>%\n  mutate(enrollment_gwth1 = lag(Enrollments, n=1))\n\n#Import data based on master students in math\nAdmissions_master <- read_excel(\"C:/Users/Lai Wei/Desktop/Umass Amherst/DACSS 601/Assignments/Final Project/Admissions_math.xlsx\",\n                         sheet = \"MATH\",\n                         skip = 30,\n                         n_max = 5,\n                         col_names = c(\"stats\",2012:2021)) %>%\n  pivot_longer(cols=starts_with(\"20\"),\n                names_to = \"year\",\n               values_to = \"value\")%>%\n               pivot_wider(names_from = \"stats\", values_from = \"value\")\nAdmissions_master\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 6\n   year  Applications Acceptances Enrollments `Acceptance Rate (%)` `Yield (%)`\n   <chr>        <dbl>       <dbl>       <dbl>                 <dbl>       <dbl>\n 1 2012           110          30          16                 0.273       0.533\n 2 2013            97          22          12                 0.227       0.545\n 3 2014            95          20          10                 0.211       0.5  \n 4 2015            99          23          10                 0.232       0.435\n 5 2016           104          38          20                 0.365       0.526\n 6 2017           110          45          18                 0.409       0.4  \n 7 2018           113          46          16                 0.407       0.348\n 8 2019           106          58          24                 0.547       0.414\n 9 2020           120          83          20                 0.692       0.241\n10 2021           112          59          26                 0.527       0.441\n```\n:::\n\n```{.r .cell-code}\n#Import data based on Phd students in math\nAdmissions_Phd <- read_excel(\"C:/Users/Lai Wei/Desktop/Umass Amherst/DACSS 601/Assignments/Final Project/Admissions_math.xlsx\",\n                         sheet = \"MATH\",\n                         skip = 37,\n                         n_max = 5,\n                         col_names = c(\"stats\",2012:2021)) %>%\n  pivot_longer(cols=starts_with(\"20\"),\n                names_to = \"year\",\n               values_to = \"value\")%>%\n               pivot_wider(names_from = \"stats\", values_from = \"value\")\nAdmissions_Phd\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 6\n   year  Applications Acceptances Enrollments `Acceptance Rate (%)` `Yield (%)`\n   <chr>        <dbl>       <dbl>       <dbl>                 <dbl>       <dbl>\n 1 2012           192          32          10                 0.167       0.312\n 2 2013           173          30          12                 0.173       0.4  \n 3 2014           173          25           8                 0.145       0.32 \n 4 2015           170          32          14                 0.188       0.438\n 5 2016           150          29           9                 0.193       0.310\n 6 2017           163          32          12                 0.196       0.375\n 7 2018           170          30          12                 0.176       0.4  \n 8 2019           216          45          17                 0.208       0.378\n 9 2020           190          49          17                 0.258       0.347\n10 2021           294          36          14                 0.122       0.389\n```\n:::\n:::\n\n\n### Describe the Data\n\n  Secondly, I want to show some basic information of the data, such as column names and dimensions. \n\n::: {.cell}\n\n```{.r .cell-code}\n#import the number of year, from 2012 to 2021\ncolnames(Admissions_orig)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"year\"                \"Applications\"        \"Acceptances\"        \n[4] \"Enrollments\"         \"Acceptance Rate (%)\" \"Yield (%)\"          \n```\n:::\n\n```{.r .cell-code}\n#Get the dimension of admission data\ndim(Admissions_orig)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10  6\n```\n:::\n:::\n\n  Next, for viewing and comparing the data easier, some more essential data will be gotten together. Also, I create some new variables. \n  -enroll_rate: enrollment rate made by enrollment students number / acceptances students number, and both of them from math department. \n\n::: {.cell}\n\n```{.r .cell-code}\n#Show the enrollment rate in undergraduate freshmen   \nenroll_rate <- select(Admissions_orig,Acceptances,Enrollments)%>%\n  mutate(Enroll_rate = Enrollments/Acceptances) \nenroll_rate\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 3\n   Acceptances Enrollments Enroll_rate\n         <dbl>       <dbl>       <dbl>\n 1         257          59       0.230\n 2         297          56       0.189\n 3         318          62       0.195\n 4         358          67       0.187\n 5         411          67       0.163\n 6         373          51       0.137\n 7         603          85       0.141\n 8         594         104       0.175\n 9         596          81       0.136\n10         490          58       0.118\n```\n:::\n:::\n\n  Then I get two mean value according to acceptance rate and enrollment rate from 2012 to 2022.\n\n::: {.cell}\n\n```{.r .cell-code}\n#Show the mean of acceptance rate and enrollment rate among 2012-2022\nsummarise(Admissions_orig, accp_mean = mean(`Acceptance Rate (%)`,na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  accp_mean\n      <dbl>\n1     0.741\n```\n:::\n\n```{.r .cell-code}\nsummarise(enroll_rate,enroll_mean = mean(Enroll_rate,na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  enroll_mean\n        <dbl>\n1       0.167\n```\n:::\n:::\n\n  From these two number, we can easily see that the average value of acceptance rate is much higher than the average value of enrollment rate, and we can tell it from the low Yields(%) rate as well, which is similar with the yields rate of the whole campus. We can see it from the total admission data. \n\n### Data Comparison\n\nIn this session, I import another two admission information, one is Physics department, and another is the whole admission. \n\n::: {.cell}\n\n```{.r .cell-code}\n#Import data about Umass Amherst first-year students in Physics. \nlibrary(readxl)\nAdmissions_Phy <- read_excel(\"C:/Users/Lai Wei/Desktop/Umass Amherst/DACSS 601/Assignments/Final Project/Admissions_math.xlsx\",\n                         sheet = \"PHYS\",\n                         skip = 8,\n                         n_max=5,\n                         col_names = c(\"stats\",2012:2021)) %>%\n  pivot_longer(cols=starts_with(\"20\"), \n               names_to = \"year\",\n               values_to = \"value\")%>%\n  pivot_wider(names_from = \"stats\", values_from = \"value\")\nAdmissions_Phy\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 6\n   year  Applications Acceptances Enrollments `Acceptance Rate (%)` `Yield (%)`\n   <chr>        <dbl>       <dbl>       <dbl>                 <dbl>       <dbl>\n 1 2012           209         171          46                 0.818       0.269\n 2 2013           214         169          29                 0.790       0.172\n 3 2014           247         201          46                 0.814       0.229\n 4 2015           310         228          41                 0.735       0.180\n 5 2016           351         271          49                 0.772       0.181\n 6 2017           383         235          42                 0.614       0.179\n 7 2018           347         250          38                 0.720       0.152\n 8 2019           385         293          49                 0.761       0.167\n 9 2020           383         315          53                 0.822       0.168\n10 2021           344         280          44                 0.814       0.157\n```\n:::\n\n```{.r .cell-code}\n#Import data about Yields based on the whole campus. \nlibrary(readxl)\nAdmissions <- read_excel(\"C:/Users/Lai Wei/Desktop/Umass Amherst/DACSS 601/Assignments/Final Project/Admissions_math.xlsx\",\n                         sheet = \"Campus\",\n                         skip = 17,\n                         n_max = 3,\n                         col_names = c(\"stats\",2012:2021)) %>%\n  pivot_longer(cols=starts_with(\"20\"), \n               names_to = \"year\",\n               values_to = \"value\")%>%\n  pivot_wider(names_from = \"stats\", values_from = \"value\")\nAdmissions\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 4\n   year  `Yield (%)` `1st Choice Major (%)` `Alternate Major (%)`\n   <chr>       <dbl>                  <dbl>                 <dbl>\n 1 2012        0.214                  0.213                 0.219\n 2 2013        0.205                  0.205                 0.204\n 3 2014        0.204                  0.205                 0.195\n 4 2015        0.200                  0.204                 0.183\n 5 2016        0.191                  0.195                 0.178\n 6 2017        0.196                  0.195                 0.197\n 7 2018        0.201                  0.201                 0.200\n 8 2019        0.214                  0.214                 0.212\n 9 2020        0.191                  0.186                 0.236\n10 2021        0.174                  0.172                 0.201\n```\n:::\n:::\n\nFor better vision, I combine two admission form together.\n\n::: {.cell}\n\n```{.r .cell-code}\n#Combine two data form together\ntab1 <- merge(x = Admissions_orig, y = Admissions_Phy, by = 0, all = TRUE)\ncolnames(tab1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Row.names\"             \"year.x\"                \"Applications.x\"       \n [4] \"Acceptances.x\"         \"Enrollments.x\"         \"Acceptance Rate (%).x\"\n [7] \"Yield (%).x\"           \"year.y\"                \"Applications.y\"       \n[10] \"Acceptances.y\"         \"Enrollments.y\"         \"Acceptance Rate (%).y\"\n[13] \"Yield (%).y\"          \n```\n:::\n\n```{.r .cell-code}\ntab1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Row.names year.x Applications.x Acceptances.x Enrollments.x\n1          1   2012            342           257            59\n2         10   2021            606           490            58\n3          2   2013            377           297            56\n4          3   2014            428           318            62\n5          4   2015            485           358            67\n6          5   2016            560           411            67\n7          6   2017            662           373            51\n8          7   2018            764           603            85\n9          8   2019            817           594           104\n10         9   2020            772           596            81\n   Acceptance Rate (%).x Yield (%).x year.y Applications.y Acceptances.y\n1              0.7514620   0.2295720   2012            209           171\n2              0.8085809   0.1183673   2021            344           280\n3              0.7877984   0.1885522   2013            214           169\n4              0.7429907   0.1949686   2014            247           201\n5              0.7381443   0.1871508   2015            310           228\n6              0.7339286   0.1630170   2016            351           271\n7              0.5634441   0.1367292   2017            383           235\n8              0.7892670   0.1409619   2018            347           250\n9              0.7270502   0.1750842   2019            385           293\n10             0.7720207   0.1359060   2020            383           315\n   Enrollments.y Acceptance Rate (%).y Yield (%).y\n1             46             0.8181818   0.2690058\n2             44             0.8139535   0.1571429\n3             29             0.7897196   0.1715976\n4             46             0.8137652   0.2288557\n5             41             0.7354839   0.1798246\n6             49             0.7720798   0.1808118\n7             42             0.6135770   0.1787234\n8             38             0.7204611   0.1520000\n9             49             0.7610390   0.1672355\n10            53             0.8224543   0.1682540\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#create a table that can show the application difference between two majors\nselect(tab1, Applications.x,Applications.y)%>%\n  mutate(app_diff = Applications.x - Applications.y)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Applications.x Applications.y app_diff\n1             342            209      133\n2             606            344      262\n3             377            214      163\n4             428            247      181\n5             485            310      175\n6             560            351      209\n7             662            383      279\n8             764            347      417\n9             817            385      432\n10            772            383      389\n```\n:::\n\n```{.r .cell-code}\n#create a table that can show the enrollment difference between math and physics\nselect(tab1,Enrollments.x,Enrollments.y)%>%\n  mutate(enrol_diff = Enrollments.x - Enrollments.y)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Enrollments.x Enrollments.y enrol_diff\n1             59            46         13\n2             58            44         14\n3             56            29         27\n4             62            46         16\n5             67            41         26\n6             67            49         18\n7             51            42          9\n8             85            38         47\n9            104            49         55\n10            81            53         28\n```\n:::\n:::\n\nFrom the comparison, we can see that even though there is a bigger difference in applications, and the gap is in hundreds also more and more, the total enrollment students do not change too many, except in few years the data changed a lot. In addition, the enrollment of math is getting more and more, but in physics, the enrollment stays in a stable range. \n\n## Data Visualizition \n\nThis section is about graphs. \n\n::: {.cell}\n\n```{.r .cell-code}\n#Bivariate Visualization for undergraduate first-year\nggplot(Admissions_orig,aes(x = year, y = Enrollments))+\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](final_Project_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\nFrom this graph, we can see that in 2019, the enrollment number is the highest in these 9 years, which is more than one hunderd, and 2017 is the lowest. around 50s students. Most of the year is around 60s to 70s, and recent year is very unstable since 2018, when had a obvious increase and 2019 is the peak, then 2021 year goes back to 60s again. \n\n::: {.cell}\n\n```{.r .cell-code}\n#Bivariate Visualization for master students in math\nggplot(Admissions_master,aes(x = year, y = Enrollments))+\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](final_Project_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\nThe number of master students in math department is increasing stably. From these 9 years, it grows from 10s to 20s, maybe in the next 5 years, there will be more than 30 master students every year. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Bivariate Visualization for Phd students in math\nggplot(Admissions_Phd,aes(x = year, y = Enrollments))+\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](final_Project_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\nPhd students are only a few comparing with other stduents. \n\n## Reflection\n\n  DACSS 601 is my first class to learn R step by step. It was quite hard in the beginning, but after I set Github and Rstudio ready everything started to go smoothly, so I think the start point is the most challenging. \n  \n  Personally speaking, the time of my final project is a bit rush, since I spent my first mainly on figuring out what R and Github is, then I was behind to the whole schedule. As the result, in week 2, I have to make up the content in the first week. Similarly, in week 3, the final project week, I have to go through the challenges and readings of week 2, and that is the reason why my data visualization part is a bit easy, I had no time to go through everything (but I did in week 1 resource.\n  \n  Back to the project, the reason why I chose to focus on Umass Amherst Math department Admission is because is a understandable topic for me and for almost everyone in Umass.And I was an undergraduate student majored in math before, so I want to know more about the department which I spent 4 years. The process was harder than I thought, but luckily after many DACSS members' help, I finally imported my data in order. \n  \n  The most challenge part is that I often met some small problems which blocked the whole process. For example, in many charts, the variable names have blank in so they cannot be called in the regular way. I tried many tips for solving it, such as rename (failed since could not call names with blank in the first place) and some other functions. But eventually I learnt to use `` for names with blank and it works! Since I think those kind of small problems are not big enough to make appointment, I had to try and try all by myself. \n\n\n## Conclusion\n\nFrom this project, it is obvious that admissions in Math and Statistics department are getting bigger and bigger, but the acceptance rate is not changed a lot, so it must be the total applicants are also growing as time. And in the year 2019 to 2021, the application was unstable and different from other years, so may be COVID also had an influence on it. From the graph, it is hard to see a tendency of Phd students enrollments. I think it may be because Phd application system is more independent and has its own system and rules to decide how many they want each year. Applications are a lot in each year, but enrollments as well as acceptance rate is much lower than master and undergraduate.\n\nIn Natural Science College, it is unpredictable that math majors are higher than physics majors, because I think physics is more useful in both research and industry fields. Maybe because physics is more abstract in undergraduate period, or math majors can have more choice in future? \n\n\n## Bibliography\n\n\"Admissions data by school and college\", Admissions Statistics, Undergraduate Admissions, Umass Amherst official website, https://www.umass.edu/admissions/undergraduate-admissions/explore/admissions-statistics\n",
    "supporting": [
      "final_Project_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}